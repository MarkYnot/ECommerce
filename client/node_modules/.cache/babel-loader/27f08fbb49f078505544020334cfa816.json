{"remainingRequest":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/views/signIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/views/signIn.vue","mtime":1621427142270},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js","mtime":1620844328000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXJrL0Rlc2t0b3AvTWFzdGVyL3dlYi1kZXZlbG9wbWVudC9hc3NpZ25tZW50Mi9FY29tbWVyY2UvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdXNlckRhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL3VzZXJEYXRhU2VydmljZSI7CmltcG9ydCBUb3BCYXIgZnJvbSAiLi4vY29tcG9uZW50cy9Ub3BCYXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImxvZ2luX3BhZ2UiLAogIGNvbXBvbmVudHM6IHsKICAgIFRvcEJhcjogVG9wQmFyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIGZpcnN0bmFtZTogIiIsCiAgICAgIGxhc3RuYW1lOiAiIiwKICAgICAgZGF0YTogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB1c2VyU2lnbmluOiBmdW5jdGlvbiB1c2VyU2lnbmluKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF90aGlzLnBhc3N3b3JkID0gX3RoaXMuJG1kNShfdGhpcy5wYXNzd29yZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyRGF0YVNlcnZpY2Uuc2lnbkluRGV0YWlsKF90aGlzLnVzZXJuYW1lLCBfdGhpcy5wYXNzd29yZCwgX3RoaXMuZmlyc3RuYW1lLCBfdGhpcy5sYXN0bmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzLmRhdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5kYXRhLmRhdGEuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgICBfdGhpcy4kY29va2llcy5zZXQoImZpcnN0bmFtZSIsIF90aGlzLmRhdGEuZGF0YS5maXJzdG5hbWUsICIzMG1pbiIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGNvb2tpZXMuc2V0KCJsYXN0bmFtZSIsIF90aGlzLmRhdGEuZGF0YS5sYXN0bmFtZSwgIjMwbWluIik7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kY29va2llcy5zZXQoInN0YXRlIiwgdHJ1ZSwgIjMwbWluIik7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kY29va2llcy5zZXQoInVzZXJuYW1lIiwgX3RoaXMuZGF0YS5kYXRhLnVzZXJuYW1lLCAiMzBtaW4iKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRjb29raWVzLnNldCgidXNlcmlkIiwgX3RoaXMuZGF0YS5kYXRhLmlkLCAiMzBtaW4iKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogIi8iCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgYWxlcnQoX3RoaXMuZGF0YS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["signIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAA,eAAA,MAAA,6BAAA;AACA,OAAA,MAAA,MAAA,sBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA;AALA,KAAA;AAOA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AAFA;AAAA,uBAGA,eAAA,CAAA,YAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,SAAA,EAAA,KAAA,CAAA,QAAA,CAHA;;AAAA;AAGA,gBAAA,KAAA,CAAA,IAHA;;AAIA,oBAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,WAAA,EAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,EAAA,OAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,UAAA,EAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA,EAAA,OAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,UAAA,EAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA,EAAA,OAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,QAAA,EAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA,EAAA,OAAA;;AACA,kBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA;AACA,iBAPA,MAOA;AACA,kBAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AACA;;AAbA;AAAA;;AAAA;AAAA;AAAA;AAgBA,gBAAA,OAAA,CAAA,GAAA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AApBA;AAdA,CAAA","sourcesContent":["<template>\n    <div>\n        <TopBar>\n            <div slot=\"title\">\n            <router-link to=\"/\"><button id=\"button\">PhoneZone</button></router-link>    \n            </div>\n        </TopBar>\n        <div id=\"signin\">\n             <h1>Sign In</h1>\n        firstname:\n        <input type = \"text\" class=\"login\" placeholder=\"Please enter your firstname\" v-model=\"firstname\">\n        lastname:\n        <input type = \"text\" class=\"login\" placeholder=\"Please enter your lastname\" v-model=\"lastname\">\n        Username: \n        <input type = \"text\" class=\"login\" placeholder=\"Please enter your email address\" v-model=\"username\"/>\n        Password: \n        <input type = \"text\" class=\"login\" placeholder=\"Please enter your password\" v-model=\"password\"/>\n        \n        <button class=\"login\" type=\"button\" @click=\"userSignin\">Sign in</button>\n        <router-link to=\"/login\">Already have account?</router-link>  \n        </div>\n       \n    </div>\n</template>\n\n<script>\nimport userDataService from \"../services/userDataService\"\nimport TopBar from \"../components/TopBar\"\n\n    export default{\n        name: \"login_page\",\n        components: {\n            TopBar\n        },\n        data(){\n            return{\n                username: \"\",\n                password: \"\",\n                firstname: \"\",\n                lastname: \"\",\n                data: []\n            }\n        },\n        methods: {\n            async userSignin(){\n                try{\n                    this.password = this.$md5(this.password)\n                    this.data = await userDataService.signInDetail(this.username, this.password, this.firstname,this.lastname)\n                    if(this.data.data.checked){\n                        this.$cookies.set(\"firstname\", this.data.data.firstname, \"30min\");\n                        this.$cookies.set(\"lastname\",this.data.data.lastname,\"30min\");\n                        this.$cookies.set(\"state\", true,\"30min\");\n                        this.$cookies.set(\"username\", this.data.data.username,\"30min\");\n                        this.$cookies.set(\"userid\", this.data.data.id, \"30min\");\n                        this.$router.push({path: \"/\"})\n                    }else{\n                        alert(this.data.data.message);\n                    }\n                }\n                catch(err){\n                    console.log(err)\n                }\n                \n            }\n        }\n    }\n</script>\n\n<style scoped>\n#button{\n    font-size: 35px;\n    color: black;\n    background: white;\n    position: absolute;\n    top: -15px;\n}\n\n#signin{\n    text-align: center; /*让div内部文字居中*/\n\tbackground-color: #fff;\n\tborder-radius: 20px;\n\twidth: 300px;\n\theight: 350px;\n\tmargin: auto;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n    display: grid;\n    grid-template-rows: auto;\n    grid-row-gap: 5px;\n}\n\n.login{\n    margin-top: 5px;\n}\n</style>"],"sourceRoot":"src/views"}]}