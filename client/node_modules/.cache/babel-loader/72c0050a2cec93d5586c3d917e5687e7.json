{"remainingRequest":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/components/ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/components/ChangePassword.vue","mtime":1621427142260},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js","mtime":1620844328000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXJrL0Rlc2t0b3AvTWFzdGVyL3dlYi1kZXZlbG9wbWVudC9hc3NpZ25tZW50Mi9FY29tbWVyY2UvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdXNlckRhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL3VzZXJEYXRhU2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIG5ld1Bhc3N3b3JkOiAiIiwKICAgICAgY3VycmVudFBhc3N3b3JkOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHBhc3N3b3JkQ2hhbmdlOiBmdW5jdGlvbiBwYXNzd29yZENoYW5nZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdCwgcmVzLCBjaGFuZ2VSZXN1bHQsIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmN1cnJlbnRQYXNzd29yZCAhPSAiIiAmJiBfdGhpcy5uZXdQYXNzd29yZCAhPSAiIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy51c2VybmFtZSA9IF90aGlzLiRjb29raWVzLmdldCgndXNlcm5hbWUnKTsKICAgICAgICAgICAgICAgIF90aGlzLnBhc3N3b3JkID0gX3RoaXMuY3VycmVudFBhc3N3b3JkOwogICAgICAgICAgICAgICAgX3RoaXMucGFzc3dvcmQgPSBfdGhpcy4kbWQ1KF90aGlzLnBhc3N3b3JkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJEYXRhU2VydmljZS5nZXRMb2dpbkRldGFpbChfdGhpcy51c2VybmFtZSwgX3RoaXMucGFzc3dvcmQpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgIGlmICghcmVzLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckRhdGFTZXJ2aWNlLmNoYW5nZVBhc3N3b3JkKF90aGlzLnVzZXJuYW1lLCBfdGhpcy5uZXdQYXNzd29yZCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBjaGFuZ2VSZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBjaGFuZ2VSZXN1bHQuZGF0YTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0Lmxpc3Qubk1vZGlmaWVkID09IDEpIHsKICAgICAgICAgICAgICAgICAgYWxlcnQoInN1Y2Nlc3NmdWxseSBjaGFuZ2VkIHlvdXIgcGFzc3dvcmQiKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgYWxlcnQoIlRoZSBvbGQgcGFzc3dvcmQgaXMgbm90IGNvcnJlY3QsIHBsZWFzZSB0cnkgYWdhaW4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgYWxlcnQoIlRoZSBjdXJyZW50IHBhc3N3b3JkIGFuZCBuZXcgcGFzc3dvcmQgY291bGQgYmUgZW1wdHkiKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAqBA,OAAA,eAAA,MAAA,6BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAKA,MAAA,WAAA,EAAA,EALA;AAMA,MAAA,eAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAYA,EAAA,OAAA,EAAA;AAEA,IAAA,cAFA,4BAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,KAAA,CAAA,eAAA,IAAA,EAAA,IAAA,KAAA,CAAA,WAAA,IAAA,EADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,eAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AAJA;AAAA,uBAKA,eAAA,CAAA,cAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,QAAA,CALA;;AAAA;AAKA,gBAAA,MALA;AAMA,gBAAA,GANA,GAMA,MAAA,CAAA,IANA;AAOA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AAPA,qBAQA,GAAA,CAAA,OARA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBASA,eAAA,CAAA,cAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,WAAA,CATA;;AAAA;AASA,gBAAA,YATA;AAUA,gBAAA,QAVA,GAUA,YAAA,CAAA,IAVA;AAWA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,oBAAA,QAAA,CAAA,MAAA,CAAA,IAAA,CAAA,SAAA,IAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,oCAAA,CAAA;AACA,iBAFA,MAEA;AAEA,kBAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA;;AAjBA;AAAA;;AAAA;AAqBA,gBAAA,KAAA,CAAA,mDAAA,CAAA;;AArBA;AAAA;AAAA;;AAAA;AAwBA,gBAAA,KAAA,CAAA,sDAAA,CAAA;;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BA;AA7BA;AAZA,CAAA","sourcesContent":["<template>\n<div>\n  \n        <!-- change password page -->\n        \n          <h1>Change Password</h1>\n        Current password:\n        <input type = \"text\" v-model=\"currentPassword\"><br>\n        <br>\n        New Password: \n        <input type = \"text\" v-model=\"newPassword\"><br>\n        <br> \n\n         <button type=\"button\" @click=\"passwordChange\">Change</button>\n        \n\n\n</div>\n</template>\n \n<script>\n import userDataService from \"../services/userDataService\"\n\nexport default {\n  data() {\n    return {\n                \n                username: \"\",\n                password:\"\",\n               \n                newPassword:\"\",\n                currentPassword:\"\"\n    }\n  },\n  \n  methods: {\n\n      async passwordChange(){\n      if(this.currentPassword != \"\" && this.newPassword != \"\"){\n       this.username = this.$cookies.get('username');\n       this.password = this.currentPassword;\n       this.password = this.$md5(this.password)\n        var result = await userDataService.getLoginDetail(this.username, this.password);\n        let res = result.data\n        console.log(res);\n        if(res.checked){\n         var changeResult = await userDataService.changePassword(this.username, this.newPassword);\n         let response = changeResult.data;\n         console.log(response)\n          if(response.result.list.nModified ==1){\n                  alert(\"successfully changed your password\");\n            }else{\n\n               alert(response.message);\n            }\n\n         }else{\n          \n          alert(\"The old password is not correct, please try again\")\n         }\n      }else{\n          alert(\"The current password and new password could be empty\")\n        }\n\n    },\n\n\n}\n\n};\n</script>\n \n\n"],"sourceRoot":"src/components"}]}