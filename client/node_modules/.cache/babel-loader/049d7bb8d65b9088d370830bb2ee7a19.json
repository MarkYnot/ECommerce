{"remainingRequest":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/babel-loader/lib/index.js!/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drx/Documents/GitHub/WebDev_G8/client/src/views/cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/src/views/cart.vue","mtime":1621907965625},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kcngvRG9jdW1lbnRzL0dpdEh1Yi9XZWJEZXZfRzgvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJhY2tCdXR0b24gZnJvbSAiLi8uLi9jb21wb25lbnRzL0JhY2tCdXR0b24udnVlIjsKaW1wb3J0IHVzZXJEYXRhU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy91c2VyRGF0YVNlcnZpY2UiOwppbXBvcnQgUHJvZHVjdERhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL1Byb2R1Y3REYXRhU2VydmljZSI7IC8vIHByb2R1Y3QgVVJMIHJlcXVlc3QKCmV4cG9ydCBkZWZhdWx0IHsKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgbmFtZTogImNhcnQiLAogIGNvbXBvbmVudHM6IHsKICAgIEJhY2tCdXR0b246IEJhY2tCdXR0b24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogIiIsCiAgICAgIGZpcnN0bmFtZTogIiIsCiAgICAgIGxhc3RuYW1lOiAiIiwKICAgICAgY2FydEl0ZW1zOiBbXSwKICAgICAgbG9naW5TdGF0ZTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY29tcHV0ZWRQcmljZTogZnVuY3Rpb24gY29tcHV0ZWRQcmljZSgpIHsKICAgICAgdmFyIG1vbmV5ID0gMDsKICAgICAgdGhpcy5jYXJ0SXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIG1vbmV5ICs9IHBhcnNlRmxvYXQoaXRlbS5wcmljZSkgKiBwYXJzZUludChpdGVtLmFkZFF1YW50aXR5KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBtb25leTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFVzZXJEZXRhaWw6IGZ1bmN0aW9uIGdldFVzZXJEZXRhaWwoKSB7CiAgICAgIHZhciBiYXNlNjQgPSByZXF1aXJlKCJqcy1iYXNlNjQiKS5CYXNlNjQ7CgogICAgICB0aGlzLmZpcnN0bmFtZSA9IHRoaXMuJGNvb2tpZXMuZ2V0KCJmaXJzdG5hbWUiKTsKICAgICAgdGhpcy5sYXN0bmFtZSA9IHRoaXMuJGNvb2tpZXMuZ2V0KCJsYXN0bmFtZSIpOwogICAgICB0aGlzLmVtYWlsID0gdGhpcy4kY29va2llcy5nZXQoInVzZXJuYW1lIik7CiAgICAgIHRoaXMuZmlyc3RuYW1lID0gYmFzZTY0LmRlY29kZSh0aGlzLmZpcnN0bmFtZSk7CiAgICAgIHRoaXMubGFzdG5hbWUgPSBiYXNlNjQuZGVjb2RlKHRoaXMubGFzdG5hbWUpOwogICAgICB0aGlzLmVtYWlsID0gYmFzZTY0LmRlY29kZSh0aGlzLmVtYWlsKTsKICAgICAgdGhpcy5sb2dpblN0YXRlID0gdGhpcy4kY29va2llcy5nZXQoInN0YXRlIik7IC8vIGNvbnNvbGUubG9nKHRoaXMuZmlyc3RuYW1lKTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5lbWFpbCk7CiAgICB9LAogICAgZ2V0Q2FydEl0ZW1zOiBmdW5jdGlvbiBnZXRDYXJ0SXRlbXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJEYXRhU2VydmljZS5nZXRDYXJ0TGlzdChfdGhpcy5maXJzdG5hbWUsIF90aGlzLmxhc3RuYW1lKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5jYXJ0SXRlbXMgPSBkYXRhLmRhdGEuY2FydGxpc3Q7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVJdGVtOiBmdW5jdGlvbiByZW1vdmVJdGVtKHByb2R1Y3RUaXRsZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb2R1Y3RUaXRsZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckRhdGFTZXJ2aWNlLmRlbGV0ZUl0ZW0oX3RoaXMyLmZpcnN0bmFtZSwgX3RoaXMyLmxhc3RuYW1lLCBwcm9kdWN0VGl0bGUpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSAiMCIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImRlbGV0ZSBzdWNjIik7CgogICAgICAgICAgICAgICAgICBfdGhpczIuZ2V0Q2FydEl0ZW1zKCk7CiAgICAgICAgICAgICAgICB9IC8vdGhpcy4kcm91dGVyLmdvKDApOwoKCiAgICAgICAgICAgICAgICBfdGhpczIucmVsb2FkKCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGVkaXRDYXJ0OiBmdW5jdGlvbiBlZGl0Q2FydChmbGFnLCBpdGVtKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGVkaXROdW1iZXIsIHByb2R1Y3RUaXRsZSwgcmVzLCBfcmVzLCBfcmVzMjsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGVkaXROdW1iZXIgPSBpdGVtLmFkZFF1YW50aXR5OwogICAgICAgICAgICAgICAgcHJvZHVjdFRpdGxlID0gaXRlbS50aXRsZTsKCiAgICAgICAgICAgICAgICBpZiAoIShmbGFnID09ICdtaW51cycgJiYgaXRlbS5hZGRRdWFudGl0eSA+PSAyKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBlZGl0TnVtYmVyLS07IC8vdGhpcy5yZWxvYWQoKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckRhdGFTZXJ2aWNlLnVwZGF0ZUl0ZW1OdW1iZXIoX3RoaXMzLmZpcnN0bmFtZSwgX3RoaXMzLmxhc3RuYW1lLCBpdGVtLnRpdGxlLCBlZGl0TnVtYmVyKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gIjAiKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGRhdGUgc3VjYyIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLmdldENhcnRJdGVtcygpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIGlmICghKGZsYWcgPT0gJ2FkZCcgJiYgaXRlbS5zdG9jayA+IGl0ZW0uYWRkUXVhbnRpdHkpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGVkaXROdW1iZXIrKzsgLy90aGlzLnJlbG9hZCgpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckRhdGFTZXJ2aWNlLnVwZGF0ZUl0ZW1OdW1iZXIoX3RoaXMzLmZpcnN0bmFtZSwgX3RoaXMzLmxhc3RuYW1lLCBpdGVtLnRpdGxlLCBlZGl0TnVtYmVyKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9yZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoX3Jlcy5zdGF0dXMgPT0gIjAiKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGRhdGUgc3VjYyIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLmdldENhcnRJdGVtcygpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIGlmICghKGZsYWcgPT0gJ21pbnVzJyAmJiBpdGVtLmFkZFF1YW50aXR5ID09IDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckRhdGFTZXJ2aWNlLmRlbGV0ZUl0ZW0oX3RoaXMzLmZpcnN0bmFtZSwgX3RoaXMzLmxhc3RuYW1lLCBwcm9kdWN0VGl0bGUpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX3JlczIgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoX3JlczIuc3RhdHVzID09ICIwIikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZGVsZXRlIHN1Y2MiKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5nZXRDYXJ0SXRlbXMoKTsKICAgICAgICAgICAgICAgIH0gLy90aGlzLiRyb3V0ZXIuZ28oMCk7CiAgICAgICAgICAgICAgICAvL3RoaXMucmVsb2FkKCk7CgoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgICAgX3RoaXMzLnJlbG9hZCgpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hhbmdlU3RhdGU6IGZ1bmN0aW9uIGNoYW5nZVN0YXRlKCkgewogICAgICBpZiAodGhpcy5jaGFuZ2VTdGF0ZSA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZSA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2hhbmdlU3RhdGUgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgY2xlYXJTdG9jazogZnVuY3Rpb24gY2xlYXJTdG9jaygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgY29uZmlybWF0aW9uLCBpLCBwcm9kdWN0VGl0bGUsIG51bSwgc3RvY2ssIGFmdGVyLCBfcmVzMywgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uZmlybWF0aW9uID0gY29uZmlybSgiQXJlIHlvdSBzdXJlIHRvIGNvbmZpcm0gdGhlIHRyYW5zYWN0aW9uPyIpOwoKICAgICAgICAgICAgICAgIGlmICghY29uZmlybWF0aW9uKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgX3RoaXM0LmNhcnRJdGVtcy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHByb2R1Y3RUaXRsZSA9IF90aGlzNC5jYXJ0SXRlbXNbaV0udGl0bGU7CiAgICAgICAgICAgICAgICBudW0gPSBfdGhpczQuY2FydEl0ZW1zW2ldLmFkZFF1YW50aXR5OwogICAgICAgICAgICAgICAgc3RvY2sgPSBfdGhpczQuY2FydEl0ZW1zW2ldLnN0b2NrOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdFRpdGxlKTsKCiAgICAgICAgICAgICAgICBpZiAoIShudW0gPiBzdG9jaykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy9lbnN1cmUgZXZlcnkgaXRlbSdzIHN0b2NrIGlzIGVub2dodCB0byBjaGVja291dAogICAgICAgICAgICAgICAgYWxlcnQoInBsZWFzZSBtaW51cyB0aGUgcXVhbnRpdHkgb2YiICsgcHJvZHVjdFRpdGxlKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGFmdGVyID0gc3RvY2sgLSBudW07CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIFByb2R1Y3REYXRhU2VydmljZS5kZWxldGVQcm9kdWN0TnVtYmVyKHByb2R1Y3RUaXRsZSwgYWZ0ZXIpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX3JlczMgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckRhdGFTZXJ2aWNlLmRlbGV0ZUl0ZW0oX3RoaXM0LmZpcnN0bmFtZSwgX3RoaXM0Lmxhc3RuYW1lLCBwcm9kdWN0VGl0bGUpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIF90aGlzNC5yZWxvYWQoKTsKCiAgICAgICAgICAgICAgICBfdGhpczQuJHJvdXRlci5nbygtMSk7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFVzZXJEZXRhaWwoKTsKICAgIHRoaXMuZ2V0Q2FydEl0ZW1zKCk7CiAgfQp9Ow=="},{"version":3,"sources":["cart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\n\n    <div v-if=\"cartItems.length > 0 && loginState\">\n        <BackButton></BackButton>\n        <div id=\"page-wrap\">\n            <h1>Shopping Cart</h1>\n            <div v-for=\"(item,index) in cartItems\" :key=\"index\">\n                <div class=\"product-container\">\n                    <img class=\"product-image\" v-lazy=\"'/static/'+item.image\" alt=\"\">\n                    <div class=\"details-wrap\">\n                        <h3>{{ item.title }}</h3>\n                        <p>${{ item.price }}</p>\n                    </div>\n                    <div class=\"edit-quantity\">\n                        <button class=\"edit-btn\" @click=\"editCart('minus',item)\">-</button>\n                        <input class=\"edit-text\" type=\"text\" v-model=\"item.addQuantity\">\n                        <button class=\"edit-btn\" @click=\"editCart('add',item)\">+</button>\n                    </div>\n                    <button class=\"remove-from-cart\" @click=\"removeItem(item.title)\">Remove From Cart</button>\n                </div>\n            </div>\n            <div class=\"price-text\">\n                <span class=\"total-price\">Total Price: ${{computedPrice | currency('$') }}</span>\n            </div>\n            <div class=\"proceed-transaction\">\n                <button class=\"checkout-button\" @click=\"clearStock()\">Confirm The Transaction</button>\n            </div>\n        </div>\n    </div>\n\n    \n    <div v-else-if=\"cartItems.length == 0\">\n    <BackButton></BackButton>\n        <div id=\"page-wrap\">\n            <h1>Shopping Cart</h1>\n            <p>You haven't added anything to your cart yet!</p>\n        </div>\n    </div>\n\n    <div v-else-if=\"!loginState\">\n\n        <BackButton></BackButton>\n        <div id=\"page-wrap\">\n            <h1>Shopping Cart</h1>\n            <p>You are not logged in! Please log in your account!</p>\n        </div>\n    </div>\n\n</template>\n\n\n<script>\nimport BackButton from \"./../components/BackButton.vue\";\nimport userDataService from \"../services/userDataService\";\nimport ProductDataService from \"../services/ProductDataService\"; // product URL request\n\n\n\nexport default {\n    inject: ['reload'],\n    name: \"cart\",\n    components: {\n        BackButton\n    },\n    data() {\n        return {\n            email: \"\",\n            firstname: \"\",\n            lastname: \"\",\n            cartItems: [],\n            loginState: false,\n        }\n    },\n    computed: {\n        computedPrice () {\n            let money = 0;\n            this.cartItems.forEach( (item) => {\n                money += parseFloat(item.price)*parseInt(item.addQuantity);\n            })\n            return money;\n        }\n\n    },\n    methods: {\n\n        getUserDetail() {\n            let base64 = require(\"js-base64\").Base64;\n            this.firstname = this.$cookies.get(\"firstname\");\n            this.lastname = this.$cookies.get(\"lastname\");\n            this.email = this.$cookies.get(\"username\");\n            this.firstname = base64.decode(this.firstname);\n            this.lastname = base64.decode(this.lastname);\n            this.email = base64.decode(this.email);\n            this.loginState = this.$cookies.get(\"state\");\n\n            // console.log(this.firstname);\n            // console.log(this.email);\n        },\n        async getCartItems() {\n            //get the user from the backend\n            let data = await userDataService.getCartList(this.firstname, this.lastname);\n            this.cartItems = data.data.cartlist;\n        },\n\n        async removeItem(productTitle) {\n\n            console.log(productTitle);\n            let res = await userDataService.deleteItem(this.firstname, this.lastname, productTitle);\n            if (res.status ==\"0\") {\n                console.log(\"delete succ\");\n                this.getCartItems();\n            }\n            //this.$router.go(0);\n            this.reload();\n          \n        },\n\n        async editCart (flag, item) {\n\n            let editNumber = item.addQuantity;\n            let productTitle = item.title;\n            if (flag == 'minus' && item.addQuantity >= 2) {\n                editNumber--;\n                //this.reload();\n                let res = await userDataService.updateItemNumber(this.firstname, this.lastname, item.title, editNumber);\n                if(res.status == \"0\") {\n                    console.log(\"update succ\");\n                    this.getCartItems();\n                }\n            } else if (flag == 'add' && item.stock > item.addQuantity) {\n                editNumber++;\n                //this.reload();\n                let res = await userDataService.updateItemNumber(this.firstname, this.lastname, item.title, editNumber);\n                if(res.status == \"0\") {\n                    console.log(\"update succ\");\n                    this.getCartItems();\n                }\n            } else if (flag == 'minus' && item.addQuantity == 1) {\n                let res = await userDataService.deleteItem(this.firstname, this.lastname, productTitle);\n                if (res.status ==\"0\") {\n                    console.log(\"delete succ\");\n                    this.getCartItems();\n                }\n                //this.$router.go(0);\n                //this.reload();\n                \n            }\n\n            this.reload();\n\n        },\n        changeState() {\n            if(this.changeState == true) {\n                this.changeState = false;\n            } else {\n                this.changeState = true;\n            }\n        },\n        async clearStock() {\n            let confirmation = confirm(\"Are you sure to confirm the transaction?\");\n            if (confirmation) {\n                //clear the user cartlist and product number in the user data and product stock data\n                for (let i = 0; i < this.cartItems.length; i++) {\n                    let productTitle = this.cartItems[i].title;\n                    let num = this.cartItems[i].addQuantity;\n                    let stock = this.cartItems[i].stock;\n                    console.log(productTitle);\n                    if (num > stock) {\n                        //ensure every item's stock is enoght to checkout\n                        alert(\"please minus the quantity of\"+productTitle);\n                        return;\n                    } else {\n                        let after = stock - num;\n                        let res = await ProductDataService.deleteProductNumber(productTitle, after);\n                    }\n                    let res = await userDataService.deleteItem(this.firstname, this.lastname, productTitle);\n\n                }\n                this.reload();\n                this.$router.go(-1);\n\n            }\n\n        }\n\n\n    },\n    mounted() {\n        this.getUserDetail();\n        this.getCartItems();\n    }\n\n}\n</script>\n\n\n<style scoped>\n\n  #page-wrap {\n    margin: auto;\n    max-width: 1020px;\n    min-height: 100vh;\n    \n  }\n\n  .total-price {\n    font-weight: bold;\n    font-size: 25px;\n    margin-left: 75%;\n  }\n\n    .checkout-button {\n        background-color: #f05d23;\n        width: 35%;\n        margin-top: 65px;\n        margin-left: 30%;\n  }\n\n  h1 {\n    border-bottom: 1px solid black;\n    margin: 0;\n    margin-top: 16px;\n    padding: 16px;\n  }\n\n\n  .product-container {\n    align-content: 'center';\n    border-bottom: 1px solid #ddd;\n    display: flex;\n    padding: 16px;\n    width: 100%;\n  }\n\n    .product-image {\n    flex: 1;\n    height: 100px;\n    margin: auto;\n    max-width: 100px;\n  }\n\n    .details-wrap {\n    padding: 0 16px;\n    flex: 3;\n  }\n\n\n    .remove-from-cart {\n    flex: 1;\n    margin: auto;\n    max-width: 180px;\n  }\n\n  .edit-quantity {\n      flex: 1;\n      margin: auto;\n  }\n\n  .edit-btn {\n    border-radius: 5px;\n    font-size: 15px;\n    padding: 6px;\n  }\n\n  .edit-text {\n    max-width: 18px;\n    font-size: 14px;\n    margin-left: 1px;\n    margin-right: 1px;\n  }\n\n   .input-sub,.input-add{\n    min-width: 40px;\n    height: 100%;\n    border: 0;\n    color: #605F5F;\n    text-align: center;\n    font-size: 16px;\n    overflow: hidden;\n    display: inline-block;\n    background: #f0f0f0;\n  }\n\n.select-ipt {\n    display: inline-block;\n    padding:0 3px;\n    width: 30px;\n    min-width: 30px;\n    text-align: center;\n\n}\n\n\n\n</style>\n"],"sourceRoot":"src/views"}]}