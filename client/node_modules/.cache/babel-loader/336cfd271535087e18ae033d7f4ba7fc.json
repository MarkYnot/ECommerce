{"remainingRequest":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/components/UpdateProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/components/UpdateProfile.vue","mtime":1621259859513},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js","mtime":1620844328000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXJrL0Rlc2t0b3AvTWFzdGVyL3dlYi1kZXZlbG9wbWVudC9hc3NpZ25tZW50Mi9FY29tbWVyY2UvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdXNlckRhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL3VzZXJEYXRhU2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlyc3RuYW1lOiAiIiwKICAgICAgbGFzdG5hbWU6ICIiLAogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgdXNlcmlkOiAiIgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnVzZXJQcm9maXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVzZXJQcm9maXQ6IGZ1bmN0aW9uIHVzZXJQcm9maXQoKSB7CiAgICAgIHRoaXMuZmlyc3RuYW1lID0gdGhpcy4kY29va2llcy5nZXQoJ2ZpcnN0bmFtZScpOwogICAgICB0aGlzLmxhc3RuYW1lID0gdGhpcy4kY29va2llcy5nZXQoJ2xhc3RuYW1lJyk7CiAgICAgIHRoaXMudXNlcm5hbWUgPSB0aGlzLiRjb29raWVzLmdldCgndXNlcm5hbWUnKTsKICAgICAgdGhpcy51c2VyaWQgPSB0aGlzLiRjb29raWVzLmdldCgndXNlcmlkJyk7CiAgICAgIHRoaXMucHJvZmlsZVBhZ2UgPSB0cnVlOwogICAgfSwKICAgIHVwZGF0ZUluZm86IGZ1bmN0aW9uIHVwZGF0ZUluZm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRwcm9tcHQoJ1BsZWFzZSBlbnRlciB5b3VyIHBhc3Nvd3JkIGZpcnN0OicsICdQYXNzd29yZCcsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ2NvbmZpcm0nLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdjYW5jZWwnLAogICAgICAgIGlucHV0RXJyb3JNZXNzYWdlOiAnSW5QdXQgY291bGQgbm90IGJlIGVtcHR5JywKICAgICAgICBpbnB1dFZhbGlkYXRvcjogZnVuY3Rpb24gaW5wdXRWYWxpZGF0b3IodmFsdWUpIHsKICAgICAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuICdJbnB1dCBjb3VsZCBub3QgYmUgZW1wdHknOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZikgewogICAgICAgICAgdmFyIHZhbHVlLCByZXN1bHQsIHJlcywgdXBkYXRlZFJlc3VsdCwgcmVzcG9uc2U7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTsKICAgICAgICAgICAgICAgICAgX3RoaXMucGFzc3dvcmQgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiB1c2VyRGF0YVNlcnZpY2UuZ2V0TG9naW5EZXRhaWwoX3RoaXMudXNlcm5hbWUsIF90aGlzLnBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIHJlcyA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgICAgaWYgKCFyZXMuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICByZXR1cm4gdXNlckRhdGFTZXJ2aWNlLmdldFVwZGF0ZWRQcm9maXQoX3RoaXMuZmlyc3RuYW1lLCBfdGhpcy5sYXN0bmFtZSwgX3RoaXMudXNlcm5hbWUsIF90aGlzLnVzZXJpZCk7CgogICAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgICAgdXBkYXRlZFJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdXBkYXRlZFJlc3VsdC5kYXRhLnJlc3VsdDsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRjb29raWVzLnNldCgiZmlyc3RuYW1lIiwgX3RoaXMuZmlyc3RuYW1lLCAiMzBtaW4iKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzLiRjb29raWVzLnNldCgibGFzdG5hbWUiLCBfdGhpcy5sYXN0bmFtZSwgIjMwbWluIik7CgogICAgICAgICAgICAgICAgICBfdGhpcy4kY29va2llcy5zZXQoInVzZXJuYW1lIiwgX3RoaXMudXNlcm5hbWUsICIzMG1pbiIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGNvb2tpZXMuc2V0KCJzdGF0ZSIsIHRydWUsICIzMG1pbiIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJGNvb2tpZXMuc2V0KCJ1c2VyaWQiLCBfdGhpcy51c2VyaWQsICIzMG1pbiIpOwoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmxpc3Qubk1vZGlmaWVkID09IDEpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgic3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgIik7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgICAgYWxlcnQoInBhc3N3b3JkIGluY29ycmVjdCwgcGxlYXNlIHRyeSBhZ2FpbiIpOwogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["UpdateProfile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAmBA,OAAA,eAAA,MAAA,6BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AASA,GAXA;AAYA,EAAA,OAZA,qBAYA;AACA,SAAA,UAAA;AAEA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,SAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,WAAA,CAAA;AACA,WAAA,QAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AACA,WAAA,QAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AACA,WAAA,MAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,QAAA,CAAA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KAPA;AASA,IAAA,UATA,wBASA;AAAA;;AAEA,WAAA,OAAA,CACA,mCADA,EAEA,UAFA,EAGA;AACA,QAAA,iBAAA,EAAA,SADA;AAEA,QAAA,gBAAA,EAAA,QAFA;AAGA,QAAA,iBAAA,EAAA,0BAHA;AAIA,QAAA,cAAA,EAAA,wBAAA,KAAA,EAAA;AACA,cAAA,CAAA,KAAA,EAAA;AACA,mBAAA,0BAAA;AACA;AAEA;AATA,OAHA,EAaA,IAbA;AAAA,4EAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAA,KAAA,QAAA,KAAA;AAEA,kBAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AAFA;AAAA,yBAGA,eAAA,CAAA,cAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,QAAA,CAHA;;AAAA;AAGA,kBAAA,MAHA;AAIA,kBAAA,GAJA,GAIA,MAAA,CAAA,IAJA;AAKA,kBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AALA,uBAOA,GAAA,CAAA,OAPA;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAQA,eAAA,CAAA,gBAAA,CAAA,KAAA,CAAA,SAAA,EAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,MAAA,CARA;;AAAA;AAQA,kBAAA,aARA;AASA,kBAAA,QATA,GASA,aAAA,CAAA,IAAA,CAAA,MATA;;AAWA,kBAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,WAAA,EAAA,KAAA,CAAA,SAAA,EAAA,OAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,UAAA,EAAA,KAAA,CAAA,QAAA,EAAA,OAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,UAAA,EAAA,KAAA,CAAA,QAAA,EAAA,OAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA;;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,QAAA,EAAA,KAAA,CAAA,MAAA,EAAA,OAAA;;AACA,sBAAA,QAAA,CAAA,IAAA,CAAA,SAAA,IAAA,CAAA,EAAA;AACA,oBAAA,KAAA,CAAA,uBAAA,CAAA;AACA;;AAlBA;AAAA;;AAAA;AAsBA,kBAAA,KAAA,CAAA,sCAAA,CAAA;AAtBA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAbA;;AAAA;AAAA;AAAA;AAAA;AA2CA;AAtDA;AAhBA,CAAA","sourcesContent":["<template>\n  <div>\n    <h1>User profit</h1>\n        firstname:\n        <input type = \"text\" v-model=\"firstname\"><br>\n        <br>\n        lastname:\n        <input type = \"text\" v-model=\"lastname\"><br>\n        <br>\n        Email: \n        <input type = \"text\" v-model=\"username\"><br>\n      \n        <button type=\"button\" @click=\"updateInfo\">Update</button>\n        \n\n  </div>\n</template>\n\n<script>\n  import userDataService from \"../services/userDataService\"\n  \nexport default {\n  data() {\n    return {\n                firstname: \"\",\n                lastname: \"\",\n                username: \"\",\n                password:\"\",\n                userid:\"\"\n                \n\n    }\n  },\n  mounted(){\n     this.userProfit();\n\n  },\n    methods: {\n    userProfit(){\n      this.firstname = this.$cookies.get('firstname');\n      this.lastname = this.$cookies.get('lastname');\n      this.username = this.$cookies.get('username');\n      this.userid = this.$cookies.get('userid');\n      this.profilePage = true;\n    },\n\n     updateInfo(){\n      \n      this.$prompt(\n                'Please enter your passowrd first:', \n                'Password',\n                {\n                    confirmButtonText: 'confirm',\n                    cancelButtonText: 'cancel',\n                    inputErrorMessage: 'InPut could not be empty',\n                    inputValidator: (value) => {       \n                        if(!value) {\n                            return 'Input could not be empty';\n                        }\n                        \n                    },\n                    }).then(async({value}) => {\n                    \n                      this.password = value;\n                      var result = await userDataService.getLoginDetail(this.username, this.password)\n                        let res = result.data\n                        console.log(res);\n                      \n                 if(res.checked){\n                           var  updatedResult = await userDataService.getUpdatedProfit(this.firstname, this.lastname, this.username,this.userid)\n                          let response = updatedResult.data.result;\n                          \n                          this.$cookies.set(\"firstname\", this.firstname, \"30min\");\n                          this.$cookies.set(\"lastname\",this.lastname,\"30min\");\n                          this.$cookies.set(\"username\",this.username,\"30min\");\n                          this.$cookies.set(\"state\", true,\"30min\");\n                          this.$cookies.set(\"userid\", this.userid, \"30min\");\n                          if(response.list.nModified ==1){\n                                alert(\"successfully updated \")\n                          }\n\n                        }else{\n\n                            alert(\"password incorrect, please try again\")\n                            return;\n\n                        }\n\n                      \n                    })\n\n                  }\n   \n  }\n\n}\n</script>\n\n"],"sourceRoot":"src/components"}]}