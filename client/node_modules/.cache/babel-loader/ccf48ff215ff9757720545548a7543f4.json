{"remainingRequest":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/babel-loader/lib/index.js!/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drx/Documents/GitHub/WebDev_G8/client/src/components/ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/src/components/ChangePassword.vue","mtime":1621435494826},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kcngvRG9jdW1lbnRzL0dpdEh1Yi9XZWJEZXZfRzgvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdXNlckRhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL3VzZXJEYXRhU2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIG5ld1Bhc3N3b3JkOiAiIiwKICAgICAgY3VycmVudFBhc3N3b3JkOiAiIiwKICAgICAgc2VlbjogIiIsCiAgICAgIHVuc2VlbkltZzogcmVxdWlyZSgiLi4vYXNzZXRzL3NlZTAucG5nIiksCiAgICAgIHNlZW5JbWc6IHJlcXVpcmUoIi4uL2Fzc2V0cy9zZWUxLnBuZyIpLAogICAgICBwd2RUeXBlOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVR5cGU6IGZ1bmN0aW9uIGNoYW5nZVR5cGUoKSB7CiAgICAgIHRoaXMuc2VlbiA9ICF0aGlzLnNlZW47CiAgICAgIHRoaXMucHdkVHlwZSA9ICF0aGlzLnB3ZFR5cGU7CiAgICB9LAogICAgaG92ZXJFeWU6IGZ1bmN0aW9uIGhvdmVyRXllKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VlbiA9ICF0aGlzLnNlZW47CiAgICB9LAogICAgb3V0RXllOiBmdW5jdGlvbiBvdXRFeWUoZXZlbnQpIHsKICAgICAgdGhpcy5zZWVuID0gIXRoaXMuc2VlbjsKICAgIH0sCiAgICBwYXNzd29yZENoYW5nZTogZnVuY3Rpb24gcGFzc3dvcmRDaGFuZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXN1bHQsIHJlcywgY2hhbmdlUmVzdWx0LCByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5jdXJyZW50UGFzc3dvcmQgIT0gIiIgJiYgX3RoaXMubmV3UGFzc3dvcmQgIT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMudXNlcm5hbWUgPSBfdGhpcy4kY29va2llcy5nZXQoJ3VzZXJuYW1lJyk7CiAgICAgICAgICAgICAgICBfdGhpcy5wYXNzd29yZCA9IF90aGlzLmN1cnJlbnRQYXNzd29yZDsKICAgICAgICAgICAgICAgIF90aGlzLnBhc3N3b3JkID0gX3RoaXMuJG1kNShfdGhpcy5wYXNzd29yZCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyRGF0YVNlcnZpY2UuZ2V0TG9naW5EZXRhaWwoX3RoaXMudXNlcm5hbWUsIF90aGlzLnBhc3N3b3JkKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IHJlc3VsdC5kYXRhOwoKICAgICAgICAgICAgICAgIGlmICghcmVzLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlckRhdGFTZXJ2aWNlLmNoYW5nZVBhc3N3b3JkKF90aGlzLnVzZXJuYW1lLCBfdGhpcy5uZXdQYXNzd29yZCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBjaGFuZ2VSZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBjaGFuZ2VSZXN1bHQuZGF0YTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0Lmxpc3Qubk1vZGlmaWVkID09IDEpIHsKICAgICAgICAgICAgICAgICAgYWxlcnQoInN1Y2Nlc3NmdWxseSBjaGFuZ2VkIHlvdXIgcGFzc3dvcmQiKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgYWxlcnQoIlRoZSBvbGQgcGFzc3dvcmQgaXMgbm90IGNvcnJlY3QsIHBsZWFzZSB0cnkgYWdhaW4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgYWxlcnQoIlRoZSBjdXJyZW50IHBhc3N3b3JkIGFuZCBuZXcgcGFzc3dvcmQgY291bGQgYmUgZW1wdHkiKTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,eAAA,MAAA,6BAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAKA,MAAA,WAAA,EAAA,EALA;AAMA,MAAA,eAAA,EAAA,EANA;AAQA,MAAA,IAAA,EAAA,EARA;AASA,MAAA,SAAA,EAAA,OAAA,CAAA,oBAAA,CATA;AAUA,MAAA,OAAA,EAAA,OAAA,CAAA,oBAAA,CAVA;AAWA,MAAA,OAAA,EAAA;AAXA,KAAA;AAaA,GAfA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,WAAA,IAAA,GAAA,CAAA,KAAA,IAAA;AACA,WAAA,OAAA,GAAA,CAAA,KAAA,OAAA;AACA,KAJA;AAKA,IAAA,QAAA,EAAA,kBAAA,KAAA,EAAA;AACA,WAAA,IAAA,GAAA,CAAA,KAAA,IAAA;AACA,KAPA;AAQA,IAAA,MAAA,EAAA,gBAAA,KAAA,EAAA;AACA,WAAA,IAAA,GAAA,CAAA,KAAA,IAAA;AACA,KAVA;AAWA,IAAA,cAXA,4BAWA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,KAAA,CAAA,eAAA,IAAA,EAAA,IAAA,KAAA,CAAA,WAAA,IAAA,EADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,eAAA;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AAJA;AAAA,uBAKA,eAAA,CAAA,cAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,QAAA,CALA;;AAAA;AAKA,gBAAA,MALA;AAMA,gBAAA,GANA,GAMA,MAAA,CAAA,IANA;;AAAA,qBAOA,GAAA,CAAA,OAPA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAQA,eAAA,CAAA,cAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,WAAA,CARA;;AAAA;AAQA,gBAAA,YARA;AASA,gBAAA,QATA,GASA,YAAA,CAAA,IATA;AAUA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,oBAAA,QAAA,CAAA,MAAA,CAAA,IAAA,CAAA,SAAA,IAAA,CAAA,EAAA;AACA,kBAAA,KAAA,CAAA,oCAAA,CAAA;AACA,iBAFA,MAEA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA;;AAfA;AAAA;;AAAA;AAiBA,gBAAA,KAAA,CAAA,mDAAA,CAAA;;AAjBA;AAAA;AAAA;;AAAA;AAoBA,gBAAA,KAAA,CAAA,sDAAA,CAAA;;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBA;AAlCA;AAjBA,CAAA","sourcesContent":["<template>\n<div>\n  \n        <!-- change password page -->\n        \n          <h1>Change Password</h1>\n        Current password:\n        <input class=\"signin\" type=\"text\" v-if=\"pwdType\" v-model=\"currentPassword\" placeholder=\"Enter your password\"/>\n        <input class=\"signin\" type=\"password\" placeholder=\"Enter your password\" v-model=\"currentPassword\" v-else /><br>\n        <br>\n        New Password: \n        <input class=\"signin\" type=\"text\" v-if=\"pwdType\" v-model=\"newPassword\" placeholder=\"Enter your password\"/>\n        <input class=\"signin\" type=\"password\" placeholder=\"Enter your password\" v-model=\"newPassword\" v-else /><br>\n        <br> \n        <img :src=\"seen ? seenImg : unseenImg\" @click=\"changeType()\" v-on:mouseover=\"hoverEye\" v-on:mouseout=\"outEye\" class=\"icon-eye\" />\n         <button type=\"button\" @click=\"passwordChange\">Change</button>\n        \n\n\n</div>\n</template>\n \n<script>\n import userDataService from \"../services/userDataService\"\n\nexport default {\n  data() {\n    return {\n                \n                username: \"\",\n                password:\"\",\n               \n                newPassword:\"\",\n                currentPassword:\"\",\n\n                seen: \"\",\n                unseenImg: require(\"../assets/see0.png\"),  \n                seenImg: require(\"../assets/see1.png\"),   \n                pwdType: false\n    }\n  },\n  \n  methods: {\n      changeType: function() {\n            this.seen = !this.seen;   \n            this.pwdType = !this.pwdType;   \n            },\n            hoverEye: function(event) {\n                this.seen = !this.seen;\n            },\n            outEye: function(event) {\n                this.seen = !this.seen;\n            },\n      async passwordChange(){\n      if(this.currentPassword != \"\" && this.newPassword != \"\"){\n       this.username = this.$cookies.get('username');\n       this.password = this.currentPassword;\n       this.password = this.$md5(this.password)\n        var result = await userDataService.getLoginDetail(this.username, this.password);\n        let res = result.data\n        if(res.checked){\n         var changeResult = await userDataService.changePassword(this.username, this.newPassword);\n         let response = changeResult.data;\n         console.log(response)\n          if(response.result.list.nModified ==1){\n                  alert(\"successfully changed your password\");\n            }else{\n               alert(response.message);\n            }\n         }else{\n          alert(\"The old password is not correct, please try again\")\n         }\n      }else{\n          alert(\"The current password and new password could be empty\")\n        }\n\n    },\n\n\n}\n\n};\n</script>\n \n\n<style>\n.icon-eye{\n    height: 30px;\n    width: 30px;\n    position: absolute;\n    left: 38%;\n    top: 48.5%;\n}\n</style>"],"sourceRoot":"src/components"}]}