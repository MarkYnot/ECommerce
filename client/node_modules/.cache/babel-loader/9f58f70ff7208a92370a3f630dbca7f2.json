{"remainingRequest":"/Users/mark/Desktop/Job-hunting/做过的项目/phone-sales/client/node_modules/babel-loader/lib/index.js!/Users/mark/Desktop/Job-hunting/做过的项目/phone-sales/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mark/Desktop/Job-hunting/做过的项目/phone-sales/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/Desktop/Job-hunting/做过的项目/phone-sales/client/src/views/logIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/Desktop/Job-hunting/做过的项目/phone-sales/client/src/views/logIn.vue","mtime":1682388731434},{"path":"/Users/mark/Desktop/Job-hunting/做过的项目/phone-sales/client/node_modules/cache-loader/dist/cjs.js","mtime":1622038821000},{"path":"/Users/mark/Desktop/Job-hunting/做过的项目/phone-sales/client/node_modules/babel-loader/lib/index.js","mtime":1622038821000},{"path":"/Users/mark/Desktop/Job-hunting/做过的项目/phone-sales/client/node_modules/cache-loader/dist/cjs.js","mtime":1622038821000},{"path":"/Users/mark/Desktop/Job-hunting/做过的项目/phone-sales/client/node_modules/vue-loader/lib/index.js","mtime":1622038821000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYXJrL0Rlc2t0b3AvSm9iLWh1bnRpbmcvXHU1MDVBXHU4RkM3XHU3Njg0XHU5ODc5XHU3NkVFL3Bob25lLXNhbGVzL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHVzZXJEYXRhU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy91c2VyRGF0YVNlcnZpY2UiOwppbXBvcnQgVG9wQmFyIGZyb20gIi4uL2NvbXBvbmVudHMvVG9wQmFyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbl9wYWdlIiwKICBjb21wb25lbnRzOiB7CiAgICBUb3BCYXI6IFRvcEJhcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICBkYXRhOiBbXSwKICAgICAgc2VlbjogIiIsCiAgICAgIHVuc2VlbkltZzogcmVxdWlyZSgiLi4vYXNzZXRzL3NlZTAucG5nIiksCiAgICAgIHNlZW5JbWc6IHJlcXVpcmUoIi4uL2Fzc2V0cy9zZWUxLnBuZyIpLAogICAgICBwd2RUeXBlOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVR5cGU6IGZ1bmN0aW9uIGNoYW5nZVR5cGUoKSB7CiAgICAgIHRoaXMuc2VlbiA9ICF0aGlzLnNlZW47IC8vY2hhbmdlIHRoZSB2aWV3IG9mIGV5ZSBzeW1ib2wgCgogICAgICB0aGlzLnB3ZFR5cGUgPSAhdGhpcy5wd2RUeXBlOwogICAgfSwKICAgIGhvdmVyRXllOiBmdW5jdGlvbiBob3ZlckV5ZShldmVudCkgewogICAgICB0aGlzLnNlZW4gPSAhdGhpcy5zZWVuOwogICAgfSwKICAgIG91dEV5ZTogZnVuY3Rpb24gb3V0RXllKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VlbiA9ICF0aGlzLnNlZW47CiAgICB9LAogICAgLy9yZXF1ZXN0IHRoZSB1c2VyIGRhdGEgZnJvbSBiYWNrZW5kIGFuZCB1c2UgbXA1IHRvIHNlY3VyZSB0aGUgc2Vuc2l0aXZlIHVzZXIgaW5mb21hdGlvbgogICAgdXNlckxvZ2luOiBmdW5jdGlvbiB1c2VyTG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBiYXNlNjQsIGZpcnN0bmFtZSwgbGFzdG5hbWUsIHVzZXJuYW1lLCB1c2VyaWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMucGFzc3dvcmQgPT0gIiIgfHwgX3RoaXMudXNlcm5hbWUgPT0gIiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhbGVydCgiUGFzc3dvcmQgYW5kIHVzZXJuYW1lIGNhbm5vdCBiZSBlbXB0eSIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJEYXRhU2VydmljZS5nZXRMb2dpbkRldGFpbChfdGhpcy51c2VybmFtZSwgX3RoaXMuJG1kNShfdGhpcy5wYXNzd29yZCkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpcy5kYXRhID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLmRhdGEgPSBfdGhpcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICBiYXNlNjQgPSByZXF1aXJlKCJqcy1iYXNlNjQiKS5CYXNlNjQ7CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmRhdGEuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZSA9IGJhc2U2NC5lbmNvZGUoX3RoaXMuZGF0YS51c2VyWzBdLmZpcnN0bmFtZSk7CiAgICAgICAgICAgICAgICAgICAgbGFzdG5hbWUgPSBiYXNlNjQuZW5jb2RlKF90aGlzLmRhdGEudXNlclswXS5sYXN0bmFtZSk7CiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBiYXNlNjQuZW5jb2RlKF90aGlzLmRhdGEudXNlclswXS5lbWFpbCk7CiAgICAgICAgICAgICAgICAgICAgdXNlcmlkID0gYmFzZTY0LmVuY29kZShfdGhpcy5kYXRhLnVzZXJbMF0uX2lkKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGNvb2tpZXMuc2V0KCJmaXJzdG5hbWUiLCBmaXJzdG5hbWUsICIzMG1pbiIpOyAvL2FzdmUgaW5mbyBpbnRvIGNvb2tpZSB3aXRoIGJhc2U2NCBlbmNvZGUgdG8gZW5oYW5jZSB0aGUgc2VjdXJpdHkuIAoKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGNvb2tpZXMuc2V0KCJsYXN0bmFtZSIsIGxhc3RuYW1lLCAiMzBtaW4iKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJGNvb2tpZXMuc2V0KCJzdGF0ZSIsIHRydWUsICIzMG1pbiIpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kY29va2llcy5zZXQoInVzZXJuYW1lIiwgdXNlcm5hbWUsICIzMG1pbiIpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kY29va2llcy5zZXQoInVzZXJpZCIsIHVzZXJpZCwgIjMwbWluIik7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAiLyIKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbGVydChfdGhpcy5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["logIn.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <TopBar>\n        <div slot=\"title\">\n            <router-link to=\"/\"><button id=\"button\">PhoneZone</button></router-link>    \n        </div>\n\n        </TopBar>\n<!--     login page -->\n        <div  id=\"login\">\n        <h1>Login Page</h1> \n            <input type=\"text\" placeholder=\"Enter your username(email)\" v-model=\"username\">\n            <input type=\"text\" v-if=\"pwdType\" v-model=\"password\" placeholder=\"Enter your password\"/>\n            <input type=\"password\" placeholder=\"Enter your password\" v-model=\"password\" v-else />\n            <button class=\"login\" type=\"button\" @click=\"userLogin\">Log in</button>\n            <router-link to=\"/signIn\">Don't have account yet? Sign in Right now</router-link>\n        </div>\n        <img :src=\"seen ? seenImg : unseenImg\" @click=\"changeType()\" v-on:mouseover=\"hoverEye\" v-on:mouseout=\"outEye\" class=\"icon-eye\" />\n    </div>\n</template>\n\n<script>\n    import userDataService from \"../services/userDataService\"\n    import TopBar from \"../components/TopBar\"\n    export default{\n        name: \"login_page\",\n        components: {\n            TopBar\n        },\n        data(){\n            return{\n                username: \"\",\n                password: \"\",\n                data: [],\n                seen: \"\",\n                unseenImg: require(\"../assets/see0.png\"),  \n                seenImg: require(\"../assets/see1.png\"),   \n                pwdType: false\n            }\n        },\n        methods: {\n            changeType: function() {\n            this.seen = !this.seen;   //change the view of eye symbol \n            this.pwdType = !this.pwdType;   \n            },\n            hoverEye: function(event) {\n                this.seen = !this.seen;\n            },\n            outEye: function(event) {\n                this.seen = !this.seen;\n            },\n\n        //request the user data from backend and use mp5 to secure the sensitive user infomation\n            async userLogin(){\n                if(this.password == \"\" || this.username == \"\"){\n                    alert(\"Password and username cannot be empty\")\n                }else{\n                    this.data = await userDataService.getLoginDetail(this.username, this.$md5(this.password))\n                this.data = this.data.data\n                let base64 = require(\"js-base64\").Base64\n                try{\n                    if(this.data.checked){\n                        let firstname = base64.encode(this.data.user[0].firstname)\n                        let lastname = base64.encode(this.data.user[0].lastname)\n                        let username = base64.encode(this.data.user[0].email)\n                        let userid = base64.encode(this.data.user[0]._id)\n                        this.$cookies.set(\"firstname\", firstname, \"30min\"); //asve info into cookie with base64 encode to enhance the security. \n                        this.$cookies.set(\"lastname\",lastname,\"30min\");\n                        this.$cookies.set(\"state\", true,\"30min\");\n                        this.$cookies.set(\"username\", username,\"30min\");\n                        this.$cookies.set(\"userid\", userid, \"30min\");\n                        \n                        this.$router.push({path: \"/\"})\n                    }else{\n                        alert(this.data.message)\n                    }\n                }catch(err){\n                    console.log(err)\n                }\n                }\n                \n            }\n        }\n    }\n</script>\n\n<style scoped>\n#login{\n    text-align: center; \n\tbackground-color: #fff;\n\tborder-radius: 20px;\n\twidth: 300px;\n\theight: 350px;\n\tmargin: auto;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n    display: grid;\n    grid-template-rows: auto;\n    grid-row-gap: 5px;\n}\n\n.login{\n    margin-top: 5px;\n}\n\n.icon-eye{\n    height: 30px;\n    width: 30px;\n    position: absolute;\n    left: 63%;\n    top: 48.5%;\n}\n\n#button{\n    font-size: 35px;\n    color: black;\n    background: white;\n    position: absolute;\n    top: -15px;\n  }\n</style>"],"sourceRoot":"src/views"}]}