{"remainingRequest":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/views/SearchResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/views/SearchResult.vue","mtime":1621459331459},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js","mtime":1620844328000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb3BCYXIgZnJvbSAnLi8uLi9jb21wb25lbnRzL1RvcEJhci52dWUnOwogIGltcG9ydCAnLi8uLi9hc3NldHMvY3NzL3Byb2R1Y3QuY3NzJwppbXBvcnQgUHJvZHVjdERhdGFTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL1Byb2R1Y3REYXRhU2VydmljZSc7CmltcG9ydCBWdWVTbGlkZXIgZnJvbSAidnVlLXNsaWRlci1jb21wb25lbnQiOwogIGV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J1NlYXJjaFJlc3VsdCcsCiAgICBkYXRhKCl7CiAgICAgICAgIHJldHVybnsKICAgICAgICAgIGdvb2RMaXN0OltdLAogICAgICAgICAgYnJhbmRMaXN0OltdLAogICAgICAgICAgYnJhbmQ6JycsCiAgICAgICAgICBmaWx0ZXJlZEJyYW5kTGlzdDpbXSwKICAgICAgICAgIHRpdGxlOiIiLAogICAgICAgICAgc2VhcmNoRmxhZzpmYWxzZSwKICAgICAgICAgIHZhbHVlOicnCgogICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czp7CiAgICAgICAgIFRvcEJhciwKICAgICAgICAgVnVlU2xpZGVyCiAgICB9LAogICAgbW91bnRlZCgpewoKICAgCiAgICAgICAgIH0sCgogICAgbWV0aG9kczp7CiAgICAgICAKICAgICAKICAgICAgIGdldFJlc3VsdCgpewogICAgICAgICAgaWYodGhpcy50aXRsZSE9IiIpewogICAgICAgICAgUHJvZHVjdERhdGFTZXJ2aWNlLnNlYXJjaCh0aGlzLnRpdGxlKS50aGVuKHJlc3BvbnNlPT57CiAgICAgICAgICAgICBsZXQgcmVzID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgaWYocmVzLnN0YXR1cz09MCl7CiAgICAgICAgICAgICAgICAgdGhpcy5nb29kTGlzdCA9IHJlcy5yZXN1bHQubGlzdDsKCiAgICAgICAgICAgICAgICAgaWYocmVzLnJlc3VsdC5jb3VudD09MCl7CiAgICAgICAgICAgICAgICAgICBhbGVydCgicGxlYXNlIGVudGVyIHJlbGF0ZWQgdGl0bGUiKTsKICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hGbGFnID0gdHJ1ZTsKICAgICAgICAgICAgICAgICB0aGlzLmJyYW5kTGlzdCA9IFtdOwogICAgICAgICAgICAgICAgIGZvcihjb25zdCBpdGVtIG9mIHRoaXMuZ29vZExpc3QpewogICAgICAgICAgICAgICAgIGlmKGl0ZW0uYnJhbmQpewogICAgICAgICAgICAgICAgICAgICB2YXIgYnJhbmQgPSBpdGVtLmJyYW5kCiAgICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmJyYW5kTGlzdC5pbmNsdWRlcyhicmFuZCkpewogICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnJhbmRMaXN0LnB1c2goYnJhbmQpCiAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgCgogICAgICAgICB9CiAgICAgICAgIH0KICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgIAogICAgICAgICAgICAgCiAgICAgICAgICAgfSkKICAgICAgICAgICAKCiAgICAgICAgICAgCiAgICAgICAgICAgfWVsc2V7CiAgICAgIAogICAgICAgICAgICAgYWxlcnQoIlNlYXJjaCBib3ggY291bGQgbm90IGJlIGVtcHR5IikKICAgICAgICAgICAKICAgICAgICAgICAKCiAgICAgICAgICB9CgogICAgICAgfSwKICAgICAgIGdldEZpbHRlcmVkUmVzdWx0KGUpewoKICAgICAgICAgICAgaWYoZS50YXJnZXQudmFsdWUgPT0iYWxsIil7CiAgICAgICAgICAgICAgdGhpcy5nZXRSZXN1bHQoKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAKICAgICAgICAgICAgIHZhciBmaWx0ZXJHb29kcyA9IFtdOwogICAgICAgICAgICAgCiAgICAgICAgICAgICBmb3IoY29uc3QgaXRlbSBvZiB0aGlzLmdvb2RMaXN0KXsKICAgICAgICAgICAgICAgICAgaWYoaXRlbS5icmFuZCA9PSBlLnRhcmdldC52YWx1ZSl7CiAgICAgICAgICAgICAgICAgICBmaWx0ZXJHb29kcy5wdXNoKGl0ZW0pCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICB0aGlzLmdvb2RMaXN0ID0gZmlsdGVyR29vZHM7CiAgICAgICAgICAgICAKICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUudGFyZ2V0LnZhbHVlKQogICAgICAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgfQogICAgICAgfSwKCiAgICAgICBwcmljZVNvcnRlZCgpewogICAgICAgICB2YXIgc29ydFByaWNlR29vZHM9IFtdOwogICAgICAgICBmb3IoY29uc3QgaXRlbSBvZiB0aGlzLmdvb2RMaXN0KXsKICAgICAgICAgICBpZihpdGVtLnByaWNlPnRoaXMudmFsdWUpewogICAgICAgICAgICBzb3J0UHJpY2VHb29kcy5wdXNoKGl0ZW0pCiAgICAgICAgICAgICAgdGhpcy5nb29kTGlzdCA9IHNvcnRQcmljZUdvb2RzOwogICAgICAgICAgICAgIAogICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICB0aGlzLiRjb25maXJtKCJub3QgbWF0Y2hlZCBmb3VuZCx0cnkgYWdhaW4/IiwiY29uZmlybWF0aW9uIix7CiAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiJjb25maXJtIiwKICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiJjYW5jZWwiLAogICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICB0eXBlOiJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFJlc3VsdCgpOwoKICAgICAgICAgICAgICAgICAgfSkudGhlbigoZGF0YSk9PnsKCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoIlBsZWFzZSBzYWVyY2ggYWdhaW4gdG8gY29udGluZW91cyIpCgogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIAogICAgICAgICAgIH0KICAgICAgICAgfQoKICAgICAgICAgIAoKICAgICAgICAvLyAgY29uc29sZS5sb2codGhpcy52YWx1ZSk7CiAgICAgICB9CiAgICAgICAgICAgICAKICAgICAgICAgICAgIAogICAgICAgICAgICAgCiAgICAgICAgICAgIAoKICAgICAgICAgICAgIAogICAgICAgICAgICAgIAogICAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgIAoKICAgIAoKICAK"},{"version":3,"sources":["SearchResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;;AAEA;;;;;;AAMA;;;;AAIA;;AAEA;;;;AAIA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;;AAIA;AACA","file":"SearchResult.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\n  <div class=\"accessory-result-page accessory-page\">\n    <TopBar>\n      <div slot= \"button\">\n         <router-link to=\"\">\n           <button @click=\"getResult(title)\">Search</button>\n        </router-link> \n        </div>\n\n        <div slot= \"textInput\">\n          <input type=\"text\" placeholder=\"search here\" v-model=\"title\" id=\"inputBox\"/>\n        </div>\n            \n         <div slot=\"dropDownList\">\n           <select v-if=\"searchFlag\" @change=\"getFilteredResult($event)\" v-model=\"brand\" >\n             <option value=\"all\">All</option>\n              <option v-for=\"(brandItems,index) in brandList\" :key=\"index\" v-bind:value=\"brandItems\">{{brandItems}}</option>\n             \n          </select>\n        </div>\n\n\n        <div slot=\"slider\">\n           <el-slider v-model=\"value\" :min=\"13.33\" :max=\"1000\" @change=\"priceSorted\" v-if=\"searchFlag\"></el-slider>\n        </div>\n            \n    </TopBar>\n      <div class=\"container\">\n          \n          <div class=\"accessory-result\"> \n          \n            \n             <!-- search result accessories list -->\n            <div class=\"accessory-list-wrap\">\n              <div class=\"accessory-list col-4\">\n                <ul>\n                  <li v-for=\"item in goodList\">\n                    <div class=\"pic\">\n                      <!-- <img :src=\"'/static/'+item.image\" alt=\"\"> -->\n                      <a href=\"#\"><img v-lazy=\"'/static/'+item.image\" alt=\"\"> </a>\n                    </div>\n                    <div class=\"main\">\n                      <div class=\"name\">{{item.title}}</div>\n                      <div class=\"price\">{{item.price}}</div>\n                      \n                    </div>\n                  </li>\n          </ul>\n          </div>\n            </div>\n          </div>\n        </div>  \n  </div>\n  \n</template>\n\n<script>\nimport TopBar from './../components/TopBar.vue';\n  import './../assets/css/product.css'\nimport ProductDataService from '../services/ProductDataService';\nimport VueSlider from \"vue-slider-component\";\n  export default {\n    name:'SearchResult',\n    data(){\n         return{\n          goodList:[],\n          brandList:[],\n          brand:'',\n          filteredBrandList:[],\n          title:\"\",\n          searchFlag:false,\n          value:''\n\n         }\n    },\n    components:{\n         TopBar,\n         VueSlider\n    },\n    mounted(){\n\n   \n         },\n\n    methods:{\n       \n     \n       getResult(){\n          if(this.title!=\"\"){\n          ProductDataService.search(this.title).then(response=>{\n             let res = response.data\n             if(res.status==0){\n                 this.goodList = res.result.list;\n\n                 if(res.result.count==0){\n                   alert(\"please enter related title\");\n                   return;\n                }\n\n                 this.searchFlag = true;\n                 this.brandList = [];\n                 for(const item of this.goodList){\n                 if(item.brand){\n                     var brand = item.brand\n                     if(!this.brandList.includes(brand)){\n                       this.brandList.push(brand)\n                       \n                 }\n                 \n                   \n\n         }\n         }\n                 \n                 }\n                    \n               \n\n             \n             \n           })\n           \n\n           \n           }else{\n      \n             alert(\"Search box could not be empty\")\n           \n           \n\n          }\n\n       },\n       getFilteredResult(e){\n\n            if(e.target.value ==\"all\"){\n              this.getResult();\n            }else{\n             \n             var filterGoods = [];\n             \n             for(const item of this.goodList){\n                  if(item.brand == e.target.value){\n                   filterGoods.push(item)\n                  }\n                  \n                \n               }\n               this.goodList = filterGoods;\n             \n             console.log(e.target.value)\n             console.log(e)\n      }\n       },\n\n       priceSorted(){\n         var sortPriceGoods= [];\n         for(const item of this.goodList){\n           if(item.price>this.value){\n            sortPriceGoods.push(item)\n              this.goodList = sortPriceGoods;\n              \n           }else{\n               this.$confirm(\"not matched found,try again?\",\"confirmation\",{\n         \n                    confirmButtonText:\"confirm\",\n                    cancelButtonText:\"cancel\",\n                    showClose: true,\n                    type:\"warning\",\n                  }).then(function(){\n                     this.getResult();\n\n                  }).then((data)=>{\n\n                    alert(\"Please saerch again to contineous\")\n\n                  })\n                }\n\n                }\n             \n           }\n         }\n\n          \n\n        //  console.log(this.value);\n       }\n             \n             \n             \n            \n\n             \n              \n              \n            \n       \n\n    \n\n  \n</script>\n\n<style>\n \n #inputBox{\n   height:50px;\n   width:150px;\n }\n\n /* .el-slider__runway.disabled .el-slider__bar{\n    background-color: #e0eaf3;\n  }\n  .el-slider__button {\n    width: 10px;\n    height: 15px;\n    background: #7589d4;\n    border: none;\n    border-radius: 0;\n  }\n  .el-slider__bar{\n    background-color: #e0eaf3;\n    height: 15px;\n  }\n  .el-slider__runway{\n    background-color: #e0eaf3;\n    height: 15px;\n    border-radius: 0;\n  }\n  .el-slider__button-wrapper{\n    top: -10px;\n  } */\n\n\n</style>"]}]}