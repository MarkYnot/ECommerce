{"remainingRequest":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/components/changePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/components/changePassword.vue","mtime":1621263568979},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js","mtime":1620844328000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiBpbXBvcnQgdXNlckRhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL3VzZXJEYXRhU2VydmljZSIKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IiIsCiAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbmV3UGFzc3dvcmQ6IiIsCiAgICAgICAgICAgICAgICBjdXJyZW50UGFzc3dvcmQ6IiIKICAgIH0KICB9LAogIAogIG1ldGhvZHM6IHsKICAgICAgYXN5bmMgcGFzc3dvcmRDaGFuZ2UoKXsKICAgICAgaWYodGhpcy5jdXJyZW50UGFzc3dvcmQgIT0gIiIgJiYgdGhpcy5uZXdQYXNzd29yZCAhPSAiIil7CiAgICAgICB0aGlzLnVzZXJuYW1lID0gdGhpcy4kY29va2llcy5nZXQoJ3VzZXJuYW1lJyk7CiAgICAgICB0aGlzLnBhc3N3b3JkID0gdGhpcy5jdXJyZW50UGFzc3dvcmQ7CiAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHVzZXJEYXRhU2VydmljZS5nZXRMb2dpbkRldGFpbCh0aGlzLnVzZXJuYW1lLCB0aGlzLnBhc3N3b3JkKTsKICAgICAgICBsZXQgcmVzID0gcmVzdWx0LmRhdGEKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIGlmKHJlcy5jaGVja2VkKXsKICAgICAgICAgdmFyIGNoYW5nZVJlc3VsdCA9IGF3YWl0IHVzZXJEYXRhU2VydmljZS5jaGFuZ2VQYXNzd29yZCh0aGlzLnVzZXJuYW1lLCB0aGlzLm5ld1Bhc3N3b3JkKTsKICAgICAgICAgbGV0IHJlc3BvbnNlID0gY2hhbmdlUmVzdWx0LmRhdGE7CiAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgICAgaWYocmVzcG9uc2UucmVzdWx0Lmxpc3Qubk1vZGlmaWVkID09MSl7CiAgICAgICAgICAgICAgICAgIGFsZXJ0KCJzdWNjZXNzZnVsbHkgY2hhbmdlZCB5b3VyIHBhc3N3b3JkIik7CiAgICAgICAgICAgIH1lbHNlewoKICAgICAgICAgICAgICAgYWxlcnQocmVzcG9uc2UubWVzc2FnZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgIH1lbHNlewogICAgICAgICAgCiAgICAgICAgICBhbGVydCgiVGhlIG9sZCBwYXNzd29yZCBpcyBub3QgY29ycmVjdCwgcGxlYXNlIHRyeSBhZ2FpbiIpCiAgICAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgICBhbGVydCgiVGhlIGN1cnJlbnQgcGFzc3dvcmQgYW5kIG5ldyBwYXNzd29yZCBjb3VsZCBiZSBlbXB0eSIpCiAgICAgICAgfQoKICAgIH0sCgoKfQoKfTsK"},{"version":3,"sources":["changePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA","file":"changePassword.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div>\n  \n        <!-- change password page -->\n        <div class=\"display-Window\" v-if=\"passwordPage\">\n          <h1>Change Password</h1>\n        Current password:\n        <input type = \"text\" v-model=\"currentPassword\"><br>\n        <br>\n        New Password: \n        <input type = \"text\" v-model=\"newPassword\"><br>\n        <br> \n\n         <button type=\"button\" @click=\"passwordChange\">Change</button>\n        </div> \n\n\n</div>\n</template>\n \n<script>\n import userDataService from \"../services/userDataService\"\n\nexport default {\n  data() {\n    return {\n                \n                username: \"\",\n                password:\"\",\n               \n                newPassword:\"\",\n                currentPassword:\"\"\n    }\n  },\n  \n  methods: {\n      async passwordChange(){\n      if(this.currentPassword != \"\" && this.newPassword != \"\"){\n       this.username = this.$cookies.get('username');\n       this.password = this.currentPassword;\n        var result = await userDataService.getLoginDetail(this.username, this.password);\n        let res = result.data\n        console.log(res);\n        if(res.checked){\n         var changeResult = await userDataService.changePassword(this.username, this.newPassword);\n         let response = changeResult.data;\n         console.log(response)\n          if(response.result.list.nModified ==1){\n                  alert(\"successfully changed your password\");\n            }else{\n\n               alert(response.message);\n            }\n\n         }else{\n          \n          alert(\"The old password is not correct, please try again\")\n         }\n      }else{\n          alert(\"The current password and new password could be empty\")\n        }\n\n    },\n\n\n}\n\n};\n</script>\n \n\n"]}]}