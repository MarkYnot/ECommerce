{"remainingRequest":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/views/Mainpage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/views/Mainpage.vue","mtime":1620900002294},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js","mtime":1620844328000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUb3BCYXIgZnJvbSAnLi8uLi9jb21wb25lbnRzL1RvcEJhci52dWUnOwppbXBvcnQgUHJvZHVjdERhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL1Byb2R1Y3REYXRhU2VydmljZSI7CmltcG9ydCBOYXZCcmVhZCBmcm9tICdAL2NvbXBvbmVudHMvTmF2QnJlYWQudnVlJwppbXBvcnQgJy4vLi4vYXNzZXRzL2Nzcy9wcm9kdWN0LmNzcycKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb21lUGFnZUxpc3QiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb3dTdG9jazogW10sCiAgICAgIGJlc3RTZWxsOiBbXSwKICAgICAgIGdvb2RMaXN0OltdLAogICAgICAgICAgdGl0bGU6IiIsCiAgICAgICAgICBzZWFyY2hGbGFnOmZhbHNlCiAgICB9OwogIH0sCgogIGNvbXBvbmVudHM6ewogICAKICAgICAgVG9wQmFyLAogICAgICBOYXZCcmVhZAogICAgfSwKICBtZXRob2RzOiB7CiAgICByZXRyaWV2ZVR1dG9yaWFscygpIHsKICAgICAgUHJvZHVjdERhdGFTZXJ2aWNlLmdldEJlc3RBbmRTdG9ja1Bob25lKCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMubG93U3RvY2sgPSByZXNwb25zZS5kYXRhLnN0b2NrOwogICAgICAgICAgdGhpcy5iZXN0U2VsbCA9IHJlc3BvbnNlLmRhdGEuc2VsbDsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuc3RvY2spOwogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS5zZWxsKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgc2V0V2ViU3RvcmFnZShpdGVtKXsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6J3Byb2R1Y3REZXRhaWwnLHF1ZXJ5OntpZDogaXRlbX19KQogICAgfSwKICAgIGxvd1N0b2NrQ2xhc3NOYW1lKGluZGV4KXsKICAgICAgcmV0dXJuIGBsb3dTdG9ja19pdGVtLSR7aW5kZXh9YAogICAgfSwKICAgIGJlc3RTZWxsQ2xhc3NOYW1lKGluZGV4KXsKICAgICAgcmV0dXJuIGBiZXN0U2VsbF9pdGVtLSR7aW5kZXh9YAogICAgfSwKICAgIHBob3RvQ2xhc3NOYW1lKGluZGV4KXsKICAgICAgcmV0dXJuIGBwaG90b19pdGVtLSR7aW5kZXh9YAogICAgfSwKICAgIGdldFJlc3VsdCgpewogICAgICAgICAgaWYodGhpcy50aXRsZSE9IiIpewogICAgICAgICAgUHJvZHVjdERhdGFTZXJ2aWNlLnNlYXJjaCh0aGlzLnRpdGxlKS50aGVuKHJlc3BvbnNlPT57CiAgICAgICAgICAgICBsZXQgcmVzID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgaWYocmVzLnN0YXR1cz09MCl7CiAgICAgICAgICAgICAgICAgdGhpcy5nb29kTGlzdCA9IHJlcy5yZXN1bHQubGlzdDsKICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZsYWcgPSB0cnVlOwoKICAgICAgICAgICAgIH0KICAgICAgICAgICAgIAogICAgICAgICAgIH0pCiAgICAgICAgICAgfWVsc2V7CiAgICAgIAogICAgICAgICAgICAgYWxlcnQoIlNlYXJjaCBib3ggY291bGQgbm90IGJlIGVtcHR5IikKICAgICAgICAgICAKICAgICAgICAgICAKCiAgICAgICAgICB9CgogICAgICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMucmV0cmlldmVUdXRvcmlhbHMoKTsKICB9LAp9Owo="},{"version":3,"sources":["Mainpage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Mainpage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n      <TopBar>\n      <div slot= \"button\">\n         <router-link to=\"\">\n           <button @click=\"getResult(title)\">Search</button>\n        </router-link> \n      \n        </div>\n\n        <div slot= \"textInput\">\n          <input type=\"text\" placeholder=\"search here\" v-model=\"title\" id=\"inputBox\"/>\n        </div>\n\n       \n    </TopBar>\n\n    <nav-bread></nav-bread>\n\n            <!-- search result list -->\n    <div class=\"container\" v-if=\"searchFlag\">\n          \n          <div class=\"accessory-result\"> \n          \n            \n            \n            <div class=\"accessory-list-wrap\">\n              <div class=\"accessory-list col-4\">\n                <ul>\n                  <li v-for=\"item in goodList\">\n                    <div class=\"pic\">\n                     \n                      <a href=\"#\"><img v-lazy=\"'/static/'+item.image\" alt=\"\"> </a>\n                    </div>\n                    <div class=\"main\">\n                      <div class=\"name\">{{item.title}}</div>\n                      <div class=\"price\">{{item.price}}</div>\n                      \n                    </div>\n                  </li>\n          </ul>\n          </div>\n            </div>\n          </div>\n        </div>  \n\n    <div id=\"totalContainer\" v-if=\"!searchFlag\">\n     <div id=\"soldOut\">\n        <div>\n          <h1>Sold out soon</h1>\n        </div>\n        <div v-for=\"(item,index) in lowStock\" :key=\"index\" :id=\"lowStockClassName(index)\" class=\"stock\">\n          <p class=\"title\">{{ item.title }}</p>\n          <img :src=\"'/static/'+item.image\" alt=\"\" class=\"img1\">\n          <p class=\"price\"> Price: {{ item.price }}$</p>\n          <router-link :to=\"{path: '/productDetail', query: {data: item}}\">\n\t<button>View Phone list</button>\n</router-link>\n        </div>\n      </div>\n      <div id=\"BestSell\">\n        <div>\n          <h1>Best Sell</h1>\n        </div>\n        <div v-for=\"(item,index) in bestSell\" :key=\"index\" :id=\"bestSellClassName(index)\" class=\"sell\">\n          <p class=\"title\">{{ item.sell.title }}</p>\n          <img :src=\"'/static/'+item.sell.image\" alt=\"\" class=\"img2\">\n          <p class=\"rating\">Average_Rating: {{ item.avg_rate }}</p>\n          <router-link :to=\"{path: '/productDetail', query: {data: item}}\">\n\t<button>View Phone list</button>\n</router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TopBar from './../components/TopBar.vue';\nimport ProductDataService from \"../services/ProductDataService\";\nimport NavBread from '@/components/NavBread.vue'\nimport './../assets/css/product.css'\nexport default {\n  name: \"HomePageList\",\n  data() {\n    return {\n      lowStock: [],\n      bestSell: [],\n       goodList:[],\n          title:\"\",\n          searchFlag:false\n    };\n  },\n\n  components:{\n   \n      TopBar,\n      NavBread\n    },\n  methods: {\n    retrieveTutorials() {\n      ProductDataService.getBestAndStockPhone()\n        .then((response) => {\n          this.lowStock = response.data.stock;\n          this.bestSell = response.data.sell;\n          console.log(response.data.stock);\n          console.log(response.data.sell);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n    setWebStorage(item){\n      this.$router.push({name:'productDetail',query:{id: item}})\n    },\n    lowStockClassName(index){\n      return `lowStock_item-${index}`\n    },\n    bestSellClassName(index){\n      return `bestSell_item-${index}`\n    },\n    photoClassName(index){\n      return `photo_item-${index}`\n    },\n    getResult(){\n          if(this.title!=\"\"){\n          ProductDataService.search(this.title).then(response=>{\n             let res = response.data\n             if(res.status==0){\n                 this.goodList = res.result.list;\n                 this.searchFlag = true;\n\n             }\n             \n           })\n           }else{\n      \n             alert(\"Search box could not be empty\")\n           \n           \n\n          }\n\n       }\n  },\n  mounted() {\n    this.retrieveTutorials();\n  },\n};\n</script>\n\n<style>\n.phoneView{\n  grid-row: 4;\n}\n\n.title{\n  grid-row: 1;\n  border-bottom: 1px solid grey;\n}\n\n.price{\n  grid-row: 3;\n  border-top: 1px solid grey;\n  padding-top: 7px;\n  font-size: 15px;\n}\n\n.rating{\n  grid-row: 3;\n  border-top: 1px solid grey;\n  font-size: 15px;\n  padding: 10px;\n}\n\n#totalContainer {\n  display: grid;\n  grid-template-rows: 1;\n  grid-template-columns: 40% 40%;\n  grid-column-gap: 5%;\n  max-width: 90%;\n  margin-left: 10%;\n  margin-top: 5%;\n}\n\n#soldOut {\n  grid-row: 1;\n  grid-column: 1;\n  border: 1px solid black;\n  display: grid;\n  grid-template-rows: auto;\n  grid-row-gap: 5px;\n}\n\n#BestSell {\n  grid-row: 1;\n  grid-column: 2;\n  border: 1px solid black;\n  display: grid;\n  grid-template-rows: auto;\n  grid-row-gap: 5px;\n}\n\n.stock{\n  border: 1px solid grey;\n  width: 90%;\n  margin-left: 5%;\n  margin-top: 5%;\n  margin-bottom: 5%;\n  display: grid;\n  grid-template-rows: 27% 60% 10% 10%;\n  height: auto;\n}\n\n.sell{\n  border: 1px solid grey;\n  width: 90%;\n  margin-left: 5%;\n  margin-top: 5%;\n  margin-bottom: 5%;\n  display: grid;\n  grid-template-rows: 26% 60% 10% 10%;\n  height: auto;\n}\n\n.img1{\n  grid-row: 2;\n  width: 50%;\n  height: 100%;\n}\n\n.img2{\n  grid-row: 2;\n  width: 50%;\n  height: 60%;\n}\n\n#inputBox{\n   \n   height:50px;\n   width:150px;\n}\n</style>\n"]}]}