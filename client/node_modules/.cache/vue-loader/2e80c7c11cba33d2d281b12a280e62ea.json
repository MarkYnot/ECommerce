{"remainingRequest":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drx/Documents/GitHub/WebDev_G8/client/src/views/Mainpage.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/src/views/Mainpage.vue","mtime":1620978856736},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojaW5wdXRCb3h7CiAgaGVpZ2h0OiA1MHB4OwogIHdpZHRoOiAxNDclOwp9CgouZHJvcERvd257CiAgaGVpZ2h0OiA1MHB4OwogIHdpZHRoOjE1MCU7Cn0KCiNidXR0b257CiAgZm9udC1zaXplOiAzNXB4OwogIGNvbG9yOiBibGFjazsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAtMTVweDsKfQo="},{"version":3,"sources":["Mainpage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2MA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Mainpage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    \n    <!-- Navigation Bar area -->\n    <TopBar>\n\n      <div slot=\"title\" @click=\"changeSearchTag\">\n        <button id=\"button\">PhoneZone</button>\n      </div>\n\n      <div slot=\"login\" v-if=\"!state\" >\n        <router-link to=\"/login\">\n          <button>Log In</button>\n        </router-link>\n      </div>\n\n\n      <div slot=\"logout\" v-if=\"state\">\n        <router-link to=\"/\">\n          <button @click=\"logout\">Log out</button>\n        </router-link>\n      </div>\n\n      <div slot= \"button\">\n           <button @click=\"getResult(title)\">Search</button>\n      </div>\n\n      <div slot= \"textInput\">\n        <input type=\"text\" placeholder=\"search here\" v-model=\"title\" id=\"inputBox\"/>\n      </div>\n\n      <div slot=\"dropDownList\">\n        <select v-if=\"searchFlag\" @change=\"getFilteredResult($event)\" v-model=\"brand\" class=\"dropDown\" >\n          <option value=\"all\" class=\"dropDown\">All</option>\n            <option v-for=\"(brandItems,index) in brandList\" :key=\"index\" v-bind:value=\"brandItems\" class=\"dropDown\">{{brandItems}}\n          </option> \n        </select>\n      </div>\n\n      <div slot=\"brand\">\n        <p v-if=\"searchFlag\">Brand</p>\n      </div>\n\n      <div slot=\"slider\">\n          <el-slider v-model=\"value\" :min=\"13.33\" :max=\"1000\" @change=\"priceSorted\" v-if=\"searchFlag\"></el-slider>\n      </div>\n\n      <div slot=\"price\">\n        <p v-if=\"searchFlag\">Price</p>\n      </div>\n    </TopBar>\n\n    <!-- Switch to Search State -->\n    <div class=\"container\" v-if=\"searchFlag\">\n      <div class=\"accessory-result\"> \n        <div class=\"accessory-list-wrap\">\n          <div class=\"accessory-list col-4\">\n            <ul>\n              <li v-for=\"item in goodList\">\n                <div class=\"pic\">\n                  <a href=\"#\"><img v-lazy=\"'/static/'+item.image\" alt=\"\"> </a>\n                </div>\n                <div class=\"main\">\n                  <div class=\"name\">{{item.title}}</div>\n                  <div class=\"price\">{{item.price}}</div>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Switch to Home State -->\n    <div v-if=\"!searchFlag\">\n      <HomeState></HomeState>\n    </div>\n\n\n  </div>\n    \n</template>\n\n<script>\nimport VueSlider from \"vue-slider-component\";\nimport './../assets/css/product.css'\n\n// import component into mainpage\nimport TopBar from './../components/TopBar.vue';\nimport ProductDataService from \"../services/ProductDataService\";\nimport HomeState from '../components/HomeStatePage'\n\nexport default {\n  name: \"HomePageList\",\n  data() {\n    return {\n       goodList:[],\n        title:\"\",\n        brand:'',\n        searchFlag:false,\n        value:'',\n        goodList: [],\n        brandList: [],\n        userdata: null,\n        state: false\n    };\n  },\n  components:{\n      TopBar,\n      VueSlider,\n      HomeState\n    },\n  methods: {\n    getResult(){\n      if(this.title!=\"\"){\n      ProductDataService.search(this.title).then(response=>{\n          let res = response.data\n          if(res.status==0){\n              this.goodList = res.result.list;\n\n              if(res.result.count==0){\n                alert(\"please enter related title\");\n                return;\n              }\n              this.searchFlag = true;\n              for(const item of this.goodList){\n              if(item.brand){\n                  var brand = item.brand\n                  if(!this.brandList.includes(brand)){\n                    this.brandList.push(brand)\n                  }\n                }\n              }\n            }   \n          })\n        }else{\n        alert(\"Search box could not be empty\")\n      }\n    },\n    priceSorted(){\n      var sortPriceGoods= [];\n      for(const item of this.goodList){\n        if(item.price>this.value){\n        sortPriceGoods.push(item)\n          this.goodList = sortPriceGoods;  \n        }else{\n            this.$confirm(\"not matched found,try again?\",\"confirmation\",{\n      \n              confirmButtonText:\"confirm\",\n              cancelButtonText:\"cancel\",\n              showClose: true,\n              type:\"warning\",\n            }).then(function(){\n                  this.getResult();\n\n            }).then((data)=>{\n              alert(\"Please saerch again to contineous\")\n          })\n        }\n      }\n    },\n    getFilteredResult(e){\n        if(e.target.value ==\"all\"){\n          this.getResult();\n        }else{\n          var filterGoods = [];\n          for(const item of this.goodList){\n              if(item.brand == e.target.value){\n                filterGoods.push(item)\n              } \n            }\n            this.goodList = filterGoods;\n          \n          console.log(e.target.value)\n          console.log(e)\n      }\n    },\n    changeSearchTag(){\n      this.searchFlag = false;\n    },\n    login(){\n      this.userdata =this.$route.query.data;\n      if(typeof(this.userdata) == \"undefined\"){\n        this.state = false\n      }\n      else{\n        this.state = true\n      }\n  \n    },\n    logout(){\n      this.userdata == [];\n      this.state = false\n      this.searchFlag =false\n    }\n  },\n  mounted(){\n    this.login(); \n  }\n};\n</script>\n\n<style>\n  #inputBox{\n    height: 50px;\n    width: 147%;\n  }\n\n  .dropDown{\n    height: 50px;\n    width:150%;\n  }\n\n  #button{\n    font-size: 35px;\n    color: black;\n    background: white;\n    position: absolute;\n    top: -15px;\n  }\n</style>\n"]}]}