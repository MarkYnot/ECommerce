{"remainingRequest":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drx/Documents/GitHub/WebDev_G8/client/src/views/signIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/src/views/signIn.vue","mtime":1621443007948},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1c2VyRGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvdXNlckRhdGFTZXJ2aWNlIgppbXBvcnQgVG9wQmFyIGZyb20gIi4uL2NvbXBvbmVudHMvVG9wQmFyIgoKICAgIGV4cG9ydCBkZWZhdWx0ewogICAgICAgIG5hbWU6ICJsb2dpbl9wYWdlIiwKICAgICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgICAgIFRvcEJhcgogICAgICAgIH0sCiAgICAgICAgZGF0YSgpewogICAgICAgICAgICByZXR1cm57CiAgICAgICAgICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgICAgICAgICBjb2Zpcm1QdzoiIiwKICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogIiIsCiAgICAgICAgICAgICAgICBsYXN0bmFtZTogIiIsCiAgICAgICAgICAgICAgICBkYXRhOiBbXSwKICAgICAgICAgICAgICAgIHNlZW46ICIiLAogICAgICAgICAgICAgICAgdW5zZWVuSW1nOiByZXF1aXJlKCIuLi9hc3NldHMvc2VlMC5wbmciKSwgCiAgICAgICAgICAgICAgICBzZWVuSW1nOiByZXF1aXJlKCIuLi9hc3NldHMvc2VlMS5wbmciKSwgICAKICAgICAgICAgICAgICAgIHB3ZFR5cGU6IGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgY2hhbmdlVHlwZTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMuc2VlbiA9ICF0aGlzLnNlZW47ICAgCiAgICAgICAgICAgIHRoaXMucHdkVHlwZSA9ICF0aGlzLnB3ZFR5cGU7ICAgCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhvdmVyRXllOiBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgdGhpcy5zZWVuID0gIXRoaXMuc2VlbjsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3V0RXllOiBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgICAgICAgdGhpcy5zZWVuID0gIXRoaXMuc2VlbjsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXN5bmMgdXNlclNpZ25pbigpewogICAgICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucGFzc3dvcmQgIT0gdGhpcy5jb2Zpcm1Qdyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJUd28gcGFzc3dvcmRzIGVudGVyZWQgYXJlIG5vdCBzYW1lIikKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZCA9IHRoaXMuJG1kNSh0aGlzLnBhc3N3b3JkKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBhd2FpdCB1c2VyRGF0YVNlcnZpY2Uuc2lnbkluRGV0YWlsKHRoaXMudXNlcm5hbWUsIHRoaXMucGFzc3dvcmQsIHRoaXMuZmlyc3RuYW1lLHRoaXMubGFzdG5hbWUpCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5kYXRhLmRhdGEuY2hlY2tlZCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMuc2V0KCJmaXJzdG5hbWUiLCB0aGlzLmRhdGEuZGF0YS5maXJzdG5hbWUsICIzMG1pbiIpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb29raWVzLnNldCgibGFzdG5hbWUiLHRoaXMuZGF0YS5kYXRhLmxhc3RuYW1lLCIzMG1pbiIpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb29raWVzLnNldCgic3RhdGUiLCB0cnVlLCIzMG1pbiIpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb29raWVzLnNldCgidXNlcm5hbWUiLCB0aGlzLmRhdGEuZGF0YS51c2VybmFtZSwiMzBtaW4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kY29va2llcy5zZXQoInVzZXJpZCIsIHRoaXMuZGF0YS5kYXRhLmlkLCAiMzBtaW4iKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICIvIn0pCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KHRoaXMuZGF0YS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2goZXJyKXsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cg=="},{"version":3,"sources":["signIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"signIn.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <TopBar>\n            <div slot=\"title\">\n            <router-link to=\"/\"><button id=\"button\">PhoneZone</button></router-link>    \n            </div>\n        </TopBar>\n        <div id=\"SignInContainer\">\n             <h1>Sign In</h1>\n        Firstname:\n        <input  type = \"text\" class=\"signin\" placeholder=\"Please enter your firstname\" v-model=\"firstname\">\n        Lastname:\n        <input  type = \"text\" class=\"signin\" placeholder=\"Please enter your lastname\" v-model=\"lastname\">\n        Username: \n        <input type = \"text\" class=\"signin\" placeholder=\"Please enter your email address\" v-model=\"username\"/>\n        Password: \n        <input class=\"signin\" type=\"text\" v-if=\"pwdType\" v-model=\"password\" placeholder=\"Enter your password\"/>\n        <input class=\"signin\" type=\"password\" placeholder=\"Enter your password\" v-model=\"password\" v-else />\n        Confirm Your Password:\n        <input class=\"signin\" type=\"text\" v-if=\"pwdType\" v-model=\"cofirmPw\" placeholder=\"Enter your password again\"/>\n        <input class=\"signin\" type=\"password\" placeholder=\"Enter your password again\" v-model=\"cofirmPw\" v-else />\n\n        <button type=\"button\" @click=\"userSignin\">Sign in</button>\n        <router-link to=\"/login\">Already have account?</router-link>  \n        </div>\n        <img :src=\"seen ? seenImg : unseenImg\" @click=\"changeType()\" v-on:mouseover=\"hoverEye\" v-on:mouseout=\"outEye\" class=\"icon-eye\" />\n       \n    </div>\n</template>\n\n<script>\nimport userDataService from \"../services/userDataService\"\nimport TopBar from \"../components/TopBar\"\n\n    export default{\n        name: \"login_page\",\n        components: {\n            TopBar\n        },\n        data(){\n            return{\n                username: \"\",\n                password: \"\",\n                cofirmPw:\"\",\n                firstname: \"\",\n                lastname: \"\",\n                data: [],\n                seen: \"\",\n                unseenImg: require(\"../assets/see0.png\"), \n                seenImg: require(\"../assets/see1.png\"),   \n                pwdType: false\n            }\n        },\n        methods: {\n            changeType: function() {\n            this.seen = !this.seen;   \n            this.pwdType = !this.pwdType;   \n            },\n            hoverEye: function(event) {\n                this.seen = !this.seen;\n            },\n            outEye: function(event) {\n                this.seen = !this.seen;\n            },\n            async userSignin(){\n                try{\n                    if(this.password != this.cofirmPw){\n                        alert(\"Two passwords entered are not same\")\n                    }else{\n                        this.password = this.$md5(this.password)\n                        this.data = await userDataService.signInDetail(this.username, this.password, this.firstname,this.lastname)\n                    if(this.data.data.checked){\n                        this.$cookies.set(\"firstname\", this.data.data.firstname, \"30min\");\n                        this.$cookies.set(\"lastname\",this.data.data.lastname,\"30min\");\n                        this.$cookies.set(\"state\", true,\"30min\");\n                        this.$cookies.set(\"username\", this.data.data.username,\"30min\");\n                        this.$cookies.set(\"userid\", this.data.data.id, \"30min\");\n                        this.$router.push({path: \"/\"})\n                    }else{\n                        alert(this.data.data.message);\n                        }\n                    }\n                }\n                catch(err){\n                    console.log(err)\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n#button{\n    font-size: 35px;\n    color: black;\n    background: white;\n    position: absolute;\n    top: -15px;\n}\n\n.input{\n    height: 20px;\n}\n\n#SignInContainer{\n    text-align: center; /*让div内部文字居中*/\n\tbackground-color: #fff;\n\tborder-radius: 20px;\n\twidth: 300px;\n\theight: 350px;\n\tmargin: auto;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n    display: grid;\n    grid-template-rows: auto;\n    grid-row-gap: 3px;\n}\n\n.signin{\n    margin-top: 5px;\n    height: 40px;\n}\n\n.icon-eye{\n    height: 30px;\n    width: 30px;\n    position: absolute;\n    left: 63%;\n    top: 77%;\n}\n</style>"]}]}