{"remainingRequest":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drx/Documents/GitHub/WebDev_G8/client/src/components/ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/src/components/ChangePassword.vue","mtime":1621435494826},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiBpbXBvcnQgdXNlckRhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL3VzZXJEYXRhU2VydmljZSIKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IiIsCiAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbmV3UGFzc3dvcmQ6IiIsCiAgICAgICAgICAgICAgICBjdXJyZW50UGFzc3dvcmQ6IiIsCgogICAgICAgICAgICAgICAgc2VlbjogIiIsCiAgICAgICAgICAgICAgICB1bnNlZW5JbWc6IHJlcXVpcmUoIi4uL2Fzc2V0cy9zZWUwLnBuZyIpLCAgCiAgICAgICAgICAgICAgICBzZWVuSW1nOiByZXF1aXJlKCIuLi9hc3NldHMvc2VlMS5wbmciKSwgICAKICAgICAgICAgICAgICAgIHB3ZFR5cGU6IGZhbHNlCiAgICB9CiAgfSwKICAKICBtZXRob2RzOiB7CiAgICAgIGNoYW5nZVR5cGU6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aGlzLnNlZW4gPSAhdGhpcy5zZWVuOyAgIAogICAgICAgICAgICB0aGlzLnB3ZFR5cGUgPSAhdGhpcy5wd2RUeXBlOyAgIAogICAgICAgICAgICB9LAogICAgICAgICAgICBob3ZlckV5ZTogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VlbiA9ICF0aGlzLnNlZW47CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG91dEV5ZTogZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VlbiA9ICF0aGlzLnNlZW47CiAgICAgICAgICAgIH0sCiAgICAgIGFzeW5jIHBhc3N3b3JkQ2hhbmdlKCl7CiAgICAgIGlmKHRoaXMuY3VycmVudFBhc3N3b3JkICE9ICIiICYmIHRoaXMubmV3UGFzc3dvcmQgIT0gIiIpewogICAgICAgdGhpcy51c2VybmFtZSA9IHRoaXMuJGNvb2tpZXMuZ2V0KCd1c2VybmFtZScpOwogICAgICAgdGhpcy5wYXNzd29yZCA9IHRoaXMuY3VycmVudFBhc3N3b3JkOwogICAgICAgdGhpcy5wYXNzd29yZCA9IHRoaXMuJG1kNSh0aGlzLnBhc3N3b3JkKQogICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB1c2VyRGF0YVNlcnZpY2UuZ2V0TG9naW5EZXRhaWwodGhpcy51c2VybmFtZSwgdGhpcy5wYXNzd29yZCk7CiAgICAgICAgbGV0IHJlcyA9IHJlc3VsdC5kYXRhCiAgICAgICAgaWYocmVzLmNoZWNrZWQpewogICAgICAgICB2YXIgY2hhbmdlUmVzdWx0ID0gYXdhaXQgdXNlckRhdGFTZXJ2aWNlLmNoYW5nZVBhc3N3b3JkKHRoaXMudXNlcm5hbWUsIHRoaXMubmV3UGFzc3dvcmQpOwogICAgICAgICBsZXQgcmVzcG9uc2UgPSBjaGFuZ2VSZXN1bHQuZGF0YTsKICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgICAgICBpZihyZXNwb25zZS5yZXN1bHQubGlzdC5uTW9kaWZpZWQgPT0xKXsKICAgICAgICAgICAgICAgICAgYWxlcnQoInN1Y2Nlc3NmdWxseSBjaGFuZ2VkIHlvdXIgcGFzc3dvcmQiKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgIH1lbHNlewogICAgICAgICAgYWxlcnQoIlRoZSBvbGQgcGFzc3dvcmQgaXMgbm90IGNvcnJlY3QsIHBsZWFzZSB0cnkgYWdhaW4iKQogICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgICAgYWxlcnQoIlRoZSBjdXJyZW50IHBhc3N3b3JkIGFuZCBuZXcgcGFzc3dvcmQgY291bGQgYmUgZW1wdHkiKQogICAgICAgIH0KCiAgICB9LAoKCn0KCn07Cg=="},{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA","file":"ChangePassword.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div>\n  \n        <!-- change password page -->\n        \n          <h1>Change Password</h1>\n        Current password:\n        <input class=\"signin\" type=\"text\" v-if=\"pwdType\" v-model=\"currentPassword\" placeholder=\"Enter your password\"/>\n        <input class=\"signin\" type=\"password\" placeholder=\"Enter your password\" v-model=\"currentPassword\" v-else /><br>\n        <br>\n        New Password: \n        <input class=\"signin\" type=\"text\" v-if=\"pwdType\" v-model=\"newPassword\" placeholder=\"Enter your password\"/>\n        <input class=\"signin\" type=\"password\" placeholder=\"Enter your password\" v-model=\"newPassword\" v-else /><br>\n        <br> \n        <img :src=\"seen ? seenImg : unseenImg\" @click=\"changeType()\" v-on:mouseover=\"hoverEye\" v-on:mouseout=\"outEye\" class=\"icon-eye\" />\n         <button type=\"button\" @click=\"passwordChange\">Change</button>\n        \n\n\n</div>\n</template>\n \n<script>\n import userDataService from \"../services/userDataService\"\n\nexport default {\n  data() {\n    return {\n                \n                username: \"\",\n                password:\"\",\n               \n                newPassword:\"\",\n                currentPassword:\"\",\n\n                seen: \"\",\n                unseenImg: require(\"../assets/see0.png\"),  \n                seenImg: require(\"../assets/see1.png\"),   \n                pwdType: false\n    }\n  },\n  \n  methods: {\n      changeType: function() {\n            this.seen = !this.seen;   \n            this.pwdType = !this.pwdType;   \n            },\n            hoverEye: function(event) {\n                this.seen = !this.seen;\n            },\n            outEye: function(event) {\n                this.seen = !this.seen;\n            },\n      async passwordChange(){\n      if(this.currentPassword != \"\" && this.newPassword != \"\"){\n       this.username = this.$cookies.get('username');\n       this.password = this.currentPassword;\n       this.password = this.$md5(this.password)\n        var result = await userDataService.getLoginDetail(this.username, this.password);\n        let res = result.data\n        if(res.checked){\n         var changeResult = await userDataService.changePassword(this.username, this.newPassword);\n         let response = changeResult.data;\n         console.log(response)\n          if(response.result.list.nModified ==1){\n                  alert(\"successfully changed your password\");\n            }else{\n               alert(response.message);\n            }\n         }else{\n          alert(\"The old password is not correct, please try again\")\n         }\n      }else{\n          alert(\"The current password and new password could be empty\")\n        }\n\n    },\n\n\n}\n\n};\n</script>\n \n\n<style>\n.icon-eye{\n    height: 30px;\n    width: 30px;\n    position: absolute;\n    left: 38%;\n    top: 48.5%;\n}\n</style>"]}]}