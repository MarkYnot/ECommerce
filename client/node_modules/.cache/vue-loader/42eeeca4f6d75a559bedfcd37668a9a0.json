{"remainingRequest":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/views/ProductDetailPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/views/ProductDetailPage.vue","mtime":1620934801508},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js","mtime":1620844328000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWVTbGlkZXIgZnJvbSAidnVlLXNsaWRlci1jb21wb25lbnQiOwppbXBvcnQgVG9wQmFyIGZyb20gJy4vLi4vY29tcG9uZW50cy9Ub3BCYXIudnVlJzsKaW1wb3J0IFByb2R1Y3REYXRhU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9Qcm9kdWN0RGF0YVNlcnZpY2UnOwppbXBvcnQgTmF2QnJlYWQgZnJvbSAnQC9jb21wb25lbnRzL05hdkJyZWFkLnZ1ZScKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1Byb2R1Y3REZXRhaWxQYWdlJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICBnb29kTGlzdDpbXSwKICAgICAgICAgICAgIHRpdGxlOiIiLAogICAgICAgICAgICAgc2VhcmNoRmxhZzpmYWxzZSwKICAgICAgICAgICAgIGJyYW5kOicnLAogICAgICAgICAgICAgIHZhbHVlOicnLAogICAgICAgICAgICBkYXRhOiB0aGlzLiRyb3V0ZS5xdWVyeS5kYXRhCiAgICAgICAgICAgIC8vcHJvZHVjdDogcHJvZHVjdHMuZmluZCgocCkgPT4gcC5pZCA9PT0gdGhpcy4kcm91dGUucGFyYW1zLmlkKSwKICAgICAgICAgICAgCiAgICAgICAgfTsKICAgIH0sCiAgICAgbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLnF1ZXJ5LmRhdGEpCiAgfSwKICAgIGNvbXBvbmVudHM6ewogICAgICBOYXZCcmVhZCwKICAgICAgVG9wQmFyLAogICAgICBWdWVTbGlkZXIgCiAgICB9LAogICAgIAogICAgIG1ldGhvZHM6ewoKICAgICAgZ2V0UmVzdWx0KCl7CiAgICAgICAgICBpZih0aGlzLnRpdGxlIT0iIil7CiAgICAgICAgICBQcm9kdWN0RGF0YVNlcnZpY2Uuc2VhcmNoKHRoaXMudGl0bGUpLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICAgICAgIGxldCByZXMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICAgICBpZihyZXMuc3RhdHVzPT0wKXsKICAgICAgICAgICAgICAgICB0aGlzLmdvb2RMaXN0ID0gcmVzLnJlc3VsdC5saXN0OwoKICAgICAgICAgICAgICAgICBpZihyZXMucmVzdWx0LmNvdW50PT0wKXsKICAgICAgICAgICAgICAgICAgIGFsZXJ0KCJwbGVhc2UgZW50ZXIgcmVsYXRlZCB0aXRsZSIpOwogICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZsYWcgPSB0cnVlOwogICAgICAgICAgICAgICAgIHRoaXMuYnJhbmRMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgZm9yKGNvbnN0IGl0ZW0gb2YgdGhpcy5nb29kTGlzdCl7CiAgICAgICAgICAgICAgICAgaWYoaXRlbS5icmFuZCl7CiAgICAgICAgICAgICAgICAgICAgIHZhciBicmFuZCA9IGl0ZW0uYnJhbmQKICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuYnJhbmRMaXN0LmluY2x1ZGVzKGJyYW5kKSl7CiAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5icmFuZExpc3QucHVzaChicmFuZCkKICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgIH0KICAgICAgICAgfQogICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgCiAgICAgICAgICAgICAKICAgICAgICAgICB9KQogICAgICAgICAgIAoKICAgICAgICAgICAKICAgICAgICAgICB9ZWxzZXsKICAgICAgCiAgICAgICAgICAgICBhbGVydCgiU2VhcmNoIGJveCBjb3VsZCBub3QgYmUgZW1wdHkiKQogICAgICAgICAgIAogICAgICAgICAgIAoKICAgICAgICAgIH0KCiAgICAgICB9LAogICAgICAgZ2V0RmlsdGVyZWRSZXN1bHQoZSl7CgogICAgICAgICAgICBpZihlLnRhcmdldC52YWx1ZSA9PSJhbGwiKXsKICAgICAgICAgICAgICB0aGlzLmdldFJlc3VsdCgpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgIAogICAgICAgICAgICAgdmFyIGZpbHRlckdvb2RzID0gW107CiAgICAgICAgICAgICAKICAgICAgICAgICAgIGZvcihjb25zdCBpdGVtIG9mIHRoaXMuZ29vZExpc3QpewogICAgICAgICAgICAgICAgICBpZihpdGVtLmJyYW5kID09IGUudGFyZ2V0LnZhbHVlKXsKICAgICAgICAgICAgICAgICAgIGZpbHRlckdvb2RzLnB1c2goaXRlbSkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIHRoaXMuZ29vZExpc3QgPSBmaWx0ZXJHb29kczsKICAgICAgICAgICAgIAogICAgICAgICAgICAgY29uc29sZS5sb2coZS50YXJnZXQudmFsdWUpCiAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICB9CiAgICAgICB9LAoKICAgICAgIHByaWNlU29ydGVkKCl7CiAgICAgICAgIHZhciBzb3J0UHJpY2VHb29kcz0gW107CiAgICAgICAgIGZvcihjb25zdCBpdGVtIG9mIHRoaXMuZ29vZExpc3QpewogICAgICAgICAgIGlmKGl0ZW0ucHJpY2U+dGhpcy52YWx1ZSl7CiAgICAgICAgICAgIHNvcnRQcmljZUdvb2RzLnB1c2goaXRlbSkKICAgICAgICAgICAgICB0aGlzLmdvb2RMaXN0ID0gc29ydFByaWNlR29vZHM7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgIHRoaXMuJGNvbmZpcm0oIm5vdCBtYXRjaGVkIGZvdW5kLHRyeSBhZ2Fpbj8iLCJjb25maXJtYXRpb24iLHsKICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ImNvbmZpcm0iLAogICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ImNhbmNlbCIsCiAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHR5cGU6Indhcm5pbmciLAogICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UmVzdWx0KCk7CgogICAgICAgICAgICAgICAgICB9KS50aGVuKChkYXRhKT0+ewoKICAgICAgICAgICAgICAgICAgICBhbGVydCgiUGxlYXNlIHNhZXJjaCBhZ2FpbiB0byBjb250aW5lb3VzIikKCiAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgCiAgICAgICAgICAgfQoKICAgICAgIAogICAgICAKICAgIH0KICAgCn07Cg=="},{"version":3,"sources":["ProductDetailPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;;AAEA;;;;;;AAMA;;;;AAIA;;AAEA;;;;AAIA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;;;AAIA;;AAEA","file":"ProductDetailPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div>\n     <TopBar>\n      <div slot= \"button\">\n         <router-link to=\"\">\n           <button @click=\"getResult(title)\">Search</button>\n        </router-link> \n        </div>\n\n        <div slot= \"textInput\">\n          <input type=\"text\" placeholder=\"search here\" v-model=\"title\" id=\"inputBox\"/>\n        </div>\n\n\n        <div slot=\"dropDownList\">\n           <select v-if=\"searchFlag\" @change=\"getFilteredResult($event)\" v-model=\"brand\" >\n             <option value=\"all\">All</option>\n              <option v-for=\"(brandItems,index) in brandList\" :key=\"index\" v-bind:value=\"brandItems\">{{brandItems}}</option>\n             \n          </select>\n        </div>\n\n\n        <div slot=\"slider\">\n           <el-slider v-model=\"value\" :min=\"13.33\" :max=\"1000\" @change=\"priceSorted\" v-if=\"searchFlag\"></el-slider>\n        </div>\n    </TopBar>\n\n\n    <nav-bread>\n    </nav-bread>\n\n\n    <div class=\"container\" v-if=\"searchFlag\">\n          \n          <div class=\"accessory-result\"> \n          \n            \n            \n            <div class=\"accessory-list-wrap\">\n              <div class=\"accessory-list col-4\">\n                <ul>\n                  <li v-for=\"item in goodList\">\n                    <div class=\"pic\">\n                     \n                      <a href=\"#\"><img v-lazy=\"'/static/'+item.image\" alt=\"\"> </a>\n                    </div>\n                    <div class=\"main\">\n                      <div class=\"name\">{{item.title}}</div>\n                      <div class=\"price\">{{item.price}}</div>\n                      \n                    </div>\n                  </li>\n          </ul>\n          </div>\n            </div>\n          </div>\n        </div>  \n\n        <!-- product detail list -->\n    <div id=\"page-wrap\" v-if=\"!searchFlag\">\n   \n        <div id=\"img-wrap\">\n            <h1>test</h1>\n        </div>\n        <div id=\"product-details\">\n            <h1></h1>\n            <h3>{{ data.title }}</h3>\n            <h3 id=\"price\">test</h3>\n            <button id=\"add-to-cart\">Add to Cart</button>\n        </div>\n    </div>  \n</div>\n</template>\n\n<script>\nimport VueSlider from \"vue-slider-component\";\nimport TopBar from './../components/TopBar.vue';\nimport ProductDataService from '../services/ProductDataService';\nimport NavBread from '@/components/NavBread.vue'\nexport default {\n    name: 'ProductDetailPage',\n    data() {\n        return {\n           goodList:[],\n             title:\"\",\n             searchFlag:false,\n             brand:'',\n              value:'',\n            data: this.$route.query.data\n            //product: products.find((p) => p.id === this.$route.params.id),\n            \n        };\n    },\n     mounted() {\n    console.log(this.$route.query.data)\n  },\n    components:{\n      NavBread,\n      TopBar,\n      VueSlider \n    },\n     \n     methods:{\n\n      getResult(){\n          if(this.title!=\"\"){\n          ProductDataService.search(this.title).then(response=>{\n             let res = response.data\n             if(res.status==0){\n                 this.goodList = res.result.list;\n\n                 if(res.result.count==0){\n                   alert(\"please enter related title\");\n                   return;\n                }\n\n                 this.searchFlag = true;\n                 this.brandList = [];\n                 for(const item of this.goodList){\n                 if(item.brand){\n                     var brand = item.brand\n                     if(!this.brandList.includes(brand)){\n                       this.brandList.push(brand)\n                       \n                 }\n                 \n                   \n\n         }\n         }\n                 \n                 }\n                    \n               \n\n             \n             \n           })\n           \n\n           \n           }else{\n      \n             alert(\"Search box could not be empty\")\n           \n           \n\n          }\n\n       },\n       getFilteredResult(e){\n\n            if(e.target.value ==\"all\"){\n              this.getResult();\n            }else{\n             \n             var filterGoods = [];\n             \n             for(const item of this.goodList){\n                  if(item.brand == e.target.value){\n                   filterGoods.push(item)\n                  }\n                  \n                \n               }\n               this.goodList = filterGoods;\n             \n             console.log(e.target.value)\n             console.log(e)\n      }\n       },\n\n       priceSorted(){\n         var sortPriceGoods= [];\n         for(const item of this.goodList){\n           if(item.price>this.value){\n            sortPriceGoods.push(item)\n              this.goodList = sortPriceGoods;\n              \n           }else{\n               this.$confirm(\"not matched found,try again?\",\"confirmation\",{\n         \n                    confirmButtonText:\"confirm\",\n                    cancelButtonText:\"cancel\",\n                    showClose: true,\n                    type:\"warning\",\n                  }).then(function(){\n                     this.getResult();\n\n                  }).then((data)=>{\n\n                    alert(\"Please saerch again to contineous\")\n\n                  })\n                }\n\n                }\n             \n           }\n\n       \n      \n    }\n   \n};\n</script>\n\n<style scoped>\n  #page-wrap {\n    margin-top: 16px;\n    padding: 16px;\n    max-width: 600px;\n  }\n\n  #img-wrap {\n    text-align: center;\n  }\n\n  img {\n    width: 400px;\n  }\n\n  #product-details {\n    padding: 16px;\n    position: relative;\n  }\n\n  #add-to-cart {\n    width: 100%;\n  }\n\n  #price {\n    position: absolute;\n    top: 24px;\n    right: 16px;\n  }\n\n  #inputBox{\n   \n   height:50px;\n   width:150px;\n}\n</style>"]}]}