{"remainingRequest":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/views/logIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/src/views/logIn.vue","mtime":1621427142269},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/babel-loader/lib/index.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/cache-loader/dist/cjs.js","mtime":1620844328000},{"path":"/Users/mark/Desktop/Master/web-development/assignment2/Ecommerce/client/node_modules/vue-loader/lib/index.js","mtime":1620844328000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1c2VyRGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvdXNlckRhdGFTZXJ2aWNlIgppbXBvcnQgVG9wQmFyIGZyb20gIi4uL2NvbXBvbmVudHMvVG9wQmFyIgpleHBvcnQgZGVmYXVsdHsKICAgIG5hbWU6ICJsb2dpbl9wYWdlIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBUb3BCYXIKICAgIH0sCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICAgICAgZGF0YTogW10KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHVzZXJMb2dpbigpewogICAgICAgICAgICB0aGlzLnBhc3N3b3JkID0gdGhpcy4kbWQ1KHRoaXMucGFzc3dvcmQpCiAgICAgICAgICAgIHVzZXJEYXRhU2VydmljZS5nZXRMb2dpbkRldGFpbCh0aGlzLnVzZXJuYW1lLCB0aGlzLnBhc3N3b3JkKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgaWYodGhpcy5kYXRhLmNoZWNrZWQpewogICAgICAgICAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMuc2V0KCJmaXJzdG5hbWUiLCB0aGlzLmRhdGEudXNlclswXS5maXJzdG5hbWUsICIzMG1pbiIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJGNvb2tpZXMuc2V0KCJsYXN0bmFtZSIsdGhpcy5kYXRhLnVzZXJbMF0ubGFzdG5hbWUsIjMwbWluIik7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kY29va2llcy5zZXQoInN0YXRlIiwgdHJ1ZSwiMzBtaW4iKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb29raWVzLnNldCgidXNlcm5hbWUiLCB0aGlzLmRhdGEudXNlclswXS5lbWFpbCwiMzBtaW4iKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb29raWVzLnNldCgidXNlcmlkIiwgdGhpcy5kYXRhLnVzZXJbMF0uX2lkLCAiMzBtaW4iKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogIi8ifSkKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIGFsZXJ0KHRoaXMuZGF0YS5tZXNzYWdlKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["logIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"logIn.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <TopBar>\n        <div slot=\"title\">\n            <router-link to=\"/\"><button id=\"button\">PhoneZone</button></router-link>    \n        </div>\n\n        </TopBar>\n        <div  id=\"login\">\n            <h1>Login Page</h1>\n        Username: \n        <input type = \"text\" class=\"login\" placeholder=\"Please enter your email address\" v-model=\"username\"/>\n        Password: \n        <input type = \"text\" class=\"login\" placeholder=\"Please enter your password\" v-model=\"password\"/>\n        <button class=\"login\" type=\"button\" @click=\"userLogin\">Log in</button>\n        <router-link to=\"/signIn\">Don't have account yet? Sign in Right now</router-link>\n        </div>\n        \n    </div>\n</template>\n\n<script>\n    import userDataService from \"../services/userDataService\"\n    import TopBar from \"../components/TopBar\"\n    export default{\n        name: \"login_page\",\n        components: {\n            TopBar\n        },\n        data(){\n            return{\n                username: \"\",\n                password: \"\",\n                data: []\n            }\n        },\n        methods: {\n            userLogin(){\n                this.password = this.$md5(this.password)\n                userDataService.getLoginDetail(this.username, this.password)\n                .then(response => {\n                    this.data = response.data;\n                    if(this.data.checked){\n                        this.$cookies.set(\"firstname\", this.data.user[0].firstname, \"30min\");\n                        this.$cookies.set(\"lastname\",this.data.user[0].lastname,\"30min\");\n                        this.$cookies.set(\"state\", true,\"30min\");\n                        this.$cookies.set(\"username\", this.data.user[0].email,\"30min\");\n                        this.$cookies.set(\"userid\", this.data.user[0]._id, \"30min\");\n                        this.$router.push({path: \"/\"})\n                    }else{\n                        alert(this.data.message)\n                    }\n                })\n                .catch(e => {\n                    console.log(e);\n                })\n                \n            }\n        }\n    }\n</script>\n\n<style scoped>\n#login{\n    text-align: center; /*让div内部文字居中*/\n\tbackground-color: #fff;\n\tborder-radius: 20px;\n\twidth: 300px;\n\theight: 350px;\n\tmargin: auto;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n    display: grid;\n    grid-template-rows: auto;\n    grid-row-gap: 5px;\n}\n\n.login{\n    margin-top: 5px;\n}\n\n #button{\n    font-size: 35px;\n    color: black;\n    background: white;\n    position: absolute;\n    top: -15px;\n  }\n</style>"]}]}