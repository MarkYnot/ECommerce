{"remainingRequest":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drx/Documents/GitHub/WebDev_G8/client/src/views/Mainpage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/src/views/Mainpage.vue","mtime":1620978856736},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drx/Documents/GitHub/WebDev_G8/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWVTbGlkZXIgZnJvbSAidnVlLXNsaWRlci1jb21wb25lbnQiOwppbXBvcnQgJy4vLi4vYXNzZXRzL2Nzcy9wcm9kdWN0LmNzcycKCi8vIGltcG9ydCBjb21wb25lbnQgaW50byBtYWlucGFnZQppbXBvcnQgVG9wQmFyIGZyb20gJy4vLi4vY29tcG9uZW50cy9Ub3BCYXIudnVlJzsKaW1wb3J0IFByb2R1Y3REYXRhU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9Qcm9kdWN0RGF0YVNlcnZpY2UiOwppbXBvcnQgSG9tZVN0YXRlIGZyb20gJy4uL2NvbXBvbmVudHMvSG9tZVN0YXRlUGFnZScKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZVBhZ2VMaXN0IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgIGdvb2RMaXN0OltdLAogICAgICAgIHRpdGxlOiIiLAogICAgICAgIGJyYW5kOicnLAogICAgICAgIHNlYXJjaEZsYWc6ZmFsc2UsCiAgICAgICAgdmFsdWU6JycsCiAgICAgICAgZ29vZExpc3Q6IFtdLAogICAgICAgIGJyYW5kTGlzdDogW10sCiAgICAgICAgdXNlcmRhdGE6IG51bGwsCiAgICAgICAgc3RhdGU6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czp7CiAgICAgIFRvcEJhciwKICAgICAgVnVlU2xpZGVyLAogICAgICBIb21lU3RhdGUKICAgIH0sCiAgbWV0aG9kczogewogICAgZ2V0UmVzdWx0KCl7CiAgICAgIGlmKHRoaXMudGl0bGUhPSIiKXsKICAgICAgUHJvZHVjdERhdGFTZXJ2aWNlLnNlYXJjaCh0aGlzLnRpdGxlKS50aGVuKHJlc3BvbnNlPT57CiAgICAgICAgICBsZXQgcmVzID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgaWYocmVzLnN0YXR1cz09MCl7CiAgICAgICAgICAgICAgdGhpcy5nb29kTGlzdCA9IHJlcy5yZXN1bHQubGlzdDsKCiAgICAgICAgICAgICAgaWYocmVzLnJlc3VsdC5jb3VudD09MCl7CiAgICAgICAgICAgICAgICBhbGVydCgicGxlYXNlIGVudGVyIHJlbGF0ZWQgdGl0bGUiKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5zZWFyY2hGbGFnID0gdHJ1ZTsKICAgICAgICAgICAgICBmb3IoY29uc3QgaXRlbSBvZiB0aGlzLmdvb2RMaXN0KXsKICAgICAgICAgICAgICBpZihpdGVtLmJyYW5kKXsKICAgICAgICAgICAgICAgICAgdmFyIGJyYW5kID0gaXRlbS5icmFuZAogICAgICAgICAgICAgICAgICBpZighdGhpcy5icmFuZExpc3QuaW5jbHVkZXMoYnJhbmQpKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmJyYW5kTGlzdC5wdXNoKGJyYW5kKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ICAgCiAgICAgICAgICB9KQogICAgICAgIH1lbHNlewogICAgICAgIGFsZXJ0KCJTZWFyY2ggYm94IGNvdWxkIG5vdCBiZSBlbXB0eSIpCiAgICAgIH0KICAgIH0sCiAgICBwcmljZVNvcnRlZCgpewogICAgICB2YXIgc29ydFByaWNlR29vZHM9IFtdOwogICAgICBmb3IoY29uc3QgaXRlbSBvZiB0aGlzLmdvb2RMaXN0KXsKICAgICAgICBpZihpdGVtLnByaWNlPnRoaXMudmFsdWUpewogICAgICAgIHNvcnRQcmljZUdvb2RzLnB1c2goaXRlbSkKICAgICAgICAgIHRoaXMuZ29vZExpc3QgPSBzb3J0UHJpY2VHb29kczsgIAogICAgICAgIH1lbHNlewogICAgICAgICAgICB0aGlzLiRjb25maXJtKCJub3QgbWF0Y2hlZCBmb3VuZCx0cnkgYWdhaW4/IiwiY29uZmlybWF0aW9uIix7CiAgICAgIAogICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiJjb25maXJtIiwKICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiJjYW5jZWwiLAogICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICB0eXBlOiJ3YXJuaW5nIiwKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICB0aGlzLmdldFJlc3VsdCgpOwoKICAgICAgICAgICAgfSkudGhlbigoZGF0YSk9PnsKICAgICAgICAgICAgICBhbGVydCgiUGxlYXNlIHNhZXJjaCBhZ2FpbiB0byBjb250aW5lb3VzIikKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0RmlsdGVyZWRSZXN1bHQoZSl7CiAgICAgICAgaWYoZS50YXJnZXQudmFsdWUgPT0iYWxsIil7CiAgICAgICAgICB0aGlzLmdldFJlc3VsdCgpOwogICAgICAgIH1lbHNlewogICAgICAgICAgdmFyIGZpbHRlckdvb2RzID0gW107CiAgICAgICAgICBmb3IoY29uc3QgaXRlbSBvZiB0aGlzLmdvb2RMaXN0KXsKICAgICAgICAgICAgICBpZihpdGVtLmJyYW5kID09IGUudGFyZ2V0LnZhbHVlKXsKICAgICAgICAgICAgICAgIGZpbHRlckdvb2RzLnB1c2goaXRlbSkKICAgICAgICAgICAgICB9IAogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuZ29vZExpc3QgPSBmaWx0ZXJHb29kczsKICAgICAgICAgIAogICAgICAgICAgY29uc29sZS5sb2coZS50YXJnZXQudmFsdWUpCiAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICB9CiAgICB9LAogICAgY2hhbmdlU2VhcmNoVGFnKCl7CiAgICAgIHRoaXMuc2VhcmNoRmxhZyA9IGZhbHNlOwogICAgfSwKICAgIGxvZ2luKCl7CiAgICAgIHRoaXMudXNlcmRhdGEgPXRoaXMuJHJvdXRlLnF1ZXJ5LmRhdGE7CiAgICAgIGlmKHR5cGVvZih0aGlzLnVzZXJkYXRhKSA9PSAidW5kZWZpbmVkIil7CiAgICAgICAgdGhpcy5zdGF0ZSA9IGZhbHNlCiAgICAgIH0KICAgICAgZWxzZXsKICAgICAgICB0aGlzLnN0YXRlID0gdHJ1ZQogICAgICB9CiAgCiAgICB9LAogICAgbG9nb3V0KCl7CiAgICAgIHRoaXMudXNlcmRhdGEgPT0gW107CiAgICAgIHRoaXMuc3RhdGUgPSBmYWxzZQogICAgICB0aGlzLnNlYXJjaEZsYWcgPWZhbHNlCiAgICB9CiAgfSwKICBtb3VudGVkKCl7CiAgICB0aGlzLmxvZ2luKCk7IAogIH0KfTsK"},{"version":3,"sources":["Mainpage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Mainpage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    \n    <!-- Navigation Bar area -->\n    <TopBar>\n\n      <div slot=\"title\" @click=\"changeSearchTag\">\n        <button id=\"button\">PhoneZone</button>\n      </div>\n\n      <div slot=\"login\" v-if=\"!state\" >\n        <router-link to=\"/login\">\n          <button>Log In</button>\n        </router-link>\n      </div>\n\n\n      <div slot=\"logout\" v-if=\"state\">\n        <router-link to=\"/\">\n          <button @click=\"logout\">Log out</button>\n        </router-link>\n      </div>\n\n      <div slot= \"button\">\n           <button @click=\"getResult(title)\">Search</button>\n      </div>\n\n      <div slot= \"textInput\">\n        <input type=\"text\" placeholder=\"search here\" v-model=\"title\" id=\"inputBox\"/>\n      </div>\n\n      <div slot=\"dropDownList\">\n        <select v-if=\"searchFlag\" @change=\"getFilteredResult($event)\" v-model=\"brand\" class=\"dropDown\" >\n          <option value=\"all\" class=\"dropDown\">All</option>\n            <option v-for=\"(brandItems,index) in brandList\" :key=\"index\" v-bind:value=\"brandItems\" class=\"dropDown\">{{brandItems}}\n          </option> \n        </select>\n      </div>\n\n      <div slot=\"brand\">\n        <p v-if=\"searchFlag\">Brand</p>\n      </div>\n\n      <div slot=\"slider\">\n          <el-slider v-model=\"value\" :min=\"13.33\" :max=\"1000\" @change=\"priceSorted\" v-if=\"searchFlag\"></el-slider>\n      </div>\n\n      <div slot=\"price\">\n        <p v-if=\"searchFlag\">Price</p>\n      </div>\n    </TopBar>\n\n    <!-- Switch to Search State -->\n    <div class=\"container\" v-if=\"searchFlag\">\n      <div class=\"accessory-result\"> \n        <div class=\"accessory-list-wrap\">\n          <div class=\"accessory-list col-4\">\n            <ul>\n              <li v-for=\"item in goodList\">\n                <div class=\"pic\">\n                  <a href=\"#\"><img v-lazy=\"'/static/'+item.image\" alt=\"\"> </a>\n                </div>\n                <div class=\"main\">\n                  <div class=\"name\">{{item.title}}</div>\n                  <div class=\"price\">{{item.price}}</div>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Switch to Home State -->\n    <div v-if=\"!searchFlag\">\n      <HomeState></HomeState>\n    </div>\n\n\n  </div>\n    \n</template>\n\n<script>\nimport VueSlider from \"vue-slider-component\";\nimport './../assets/css/product.css'\n\n// import component into mainpage\nimport TopBar from './../components/TopBar.vue';\nimport ProductDataService from \"../services/ProductDataService\";\nimport HomeState from '../components/HomeStatePage'\n\nexport default {\n  name: \"HomePageList\",\n  data() {\n    return {\n       goodList:[],\n        title:\"\",\n        brand:'',\n        searchFlag:false,\n        value:'',\n        goodList: [],\n        brandList: [],\n        userdata: null,\n        state: false\n    };\n  },\n  components:{\n      TopBar,\n      VueSlider,\n      HomeState\n    },\n  methods: {\n    getResult(){\n      if(this.title!=\"\"){\n      ProductDataService.search(this.title).then(response=>{\n          let res = response.data\n          if(res.status==0){\n              this.goodList = res.result.list;\n\n              if(res.result.count==0){\n                alert(\"please enter related title\");\n                return;\n              }\n              this.searchFlag = true;\n              for(const item of this.goodList){\n              if(item.brand){\n                  var brand = item.brand\n                  if(!this.brandList.includes(brand)){\n                    this.brandList.push(brand)\n                  }\n                }\n              }\n            }   \n          })\n        }else{\n        alert(\"Search box could not be empty\")\n      }\n    },\n    priceSorted(){\n      var sortPriceGoods= [];\n      for(const item of this.goodList){\n        if(item.price>this.value){\n        sortPriceGoods.push(item)\n          this.goodList = sortPriceGoods;  \n        }else{\n            this.$confirm(\"not matched found,try again?\",\"confirmation\",{\n      \n              confirmButtonText:\"confirm\",\n              cancelButtonText:\"cancel\",\n              showClose: true,\n              type:\"warning\",\n            }).then(function(){\n                  this.getResult();\n\n            }).then((data)=>{\n              alert(\"Please saerch again to contineous\")\n          })\n        }\n      }\n    },\n    getFilteredResult(e){\n        if(e.target.value ==\"all\"){\n          this.getResult();\n        }else{\n          var filterGoods = [];\n          for(const item of this.goodList){\n              if(item.brand == e.target.value){\n                filterGoods.push(item)\n              } \n            }\n            this.goodList = filterGoods;\n          \n          console.log(e.target.value)\n          console.log(e)\n      }\n    },\n    changeSearchTag(){\n      this.searchFlag = false;\n    },\n    login(){\n      this.userdata =this.$route.query.data;\n      if(typeof(this.userdata) == \"undefined\"){\n        this.state = false\n      }\n      else{\n        this.state = true\n      }\n  \n    },\n    logout(){\n      this.userdata == [];\n      this.state = false\n      this.searchFlag =false\n    }\n  },\n  mounted(){\n    this.login(); \n  }\n};\n</script>\n\n<style>\n  #inputBox{\n    height: 50px;\n    width: 147%;\n  }\n\n  .dropDown{\n    height: 50px;\n    width:150%;\n  }\n\n  #button{\n    font-size: 35px;\n    color: black;\n    background: white;\n    position: absolute;\n    top: -15px;\n  }\n</style>\n"]}]}